(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1008:function(e,t){},1009:function(e,t){},1308:function(e,t){},1480:function(e,t){},1482:function(e,t){},151:function(e,t,a){"use strict";var n=a(30),r=a(33),o=a(6),i=a.n(o),c=a(54),l=a(154),s=a.n(l),u=function(){var e=Object(c.a)(i.a.mark(function e(){var t,a,n,r,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=12;break}return t=window,a=t.ethereum,e.prev=2,e.next=5,a.enable();case 5:return e.abrupt("return",{provider:a,providerInjected:!0});case 8:e.prev=8,e.t0=e.catch(2);case 10:e.next=15;break;case 12:if("undefined"===typeof window.web3){e.next=15;break}return n=new s.a(window.web3.currentProvider),r=n.currentProvider,e.abrupt("return",{provider:r,providerInjected:!0});case 15:return e.prev=15,o=new s.a.providers.WebsocketProvider("wss://mainnet.infura.io/ws/v3/e811479f4c414e219e7673b6671c2aba"),e.abrupt("return",{provider:o,providerInjected:!1});case 20:throw e.prev=20,e.t1=e.catch(15),new Error("Cannot find injected web3 or valid fallback.");case 23:case"end":return e.stop()}},e,null,[[2,8],[15,20]])}));return function(){return e.apply(this,arguments)}}(),d=function(){if(window.ethereum){var e=window.ethereum;try{return{provider:e,providerInjected:!0}}catch(t){console.log(t)}}else if("undefined"!==typeof window.web3){return console.log("we have the window web3"),{provider:new s.a(window.web3.currentProvider).currentProvider,providerInjected:!0}}try{return{provider:new s.a.providers.WebsocketProvider("wss://mainnet.infura.io/ws/v3/e811479f4c414e219e7673b6671c2aba"),providerInjected:!1}}catch(t){throw new Error("Cannot find injected web3 or valid fallback.")}},h=function(){function e(){if(Object(n.a)(this,e),this.injectedWeb3=null,this.defaultWeb3=void 0,this.providerInjected=!1,this.usingInjectedWeb3=!1,e.instance)return e.instance;e.instance=this;var t=d(),a=t.provider,r=t.providerInjected;this.providerInjected=r,this.defaultWeb3=a}return Object(r.a)(e,[{key:"switchToInjectedWeb3",value:function(){var e=Object(c.a)(i.a.mark(function e(){var t,a,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:t=e.sent,a=t.provider,n=t.providerInjected,this.injectedWeb3=a,this.providerInjected=n,this.usingInjectedWeb3=!0,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:return e.abrupt("return",this.usingInjectedWeb3);case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"createSwitchableWeb3",value:function(){var e=this;return new Proxy({},{get:function(t,a){return e.usingInjectedWeb3?e.injectedWeb3[a]:e.defaultWeb3[a]}})}}]),e}();h.instance=void 0,t.a=new h},1679:function(e,t){},1711:function(e,t){},1720:function(e,t){},1722:function(e,t){},2267:function(e,t){},2311:function(e,t){},2313:function(e,t){},2344:function(e,t){},2346:function(e,t){},2352:function(e,t){},2354:function(e,t){},2394:function(e,t){},2406:function(e,t){},2411:function(e,t){},2413:function(e,t){},2442:function(e,t,a){},2444:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(196),i=a.n(o),c=a(30),l=a(33),s=a(39),u=a(34),d=a(38),h=a(22),m=a(901),p=a.n(m),b=a(6),f=a.n(b),w=a(54),E=a(44),g=a(72),v=a(4),k=a.n(v),y=a(454),j=a(903),O=a.n(j),S=Object(n.createContext)(""),C=function(e){var t=e.children,a=e.tokenId;return r.a.createElement(S.Provider,{value:a},t)},I=function(e){return function(t){var a=Object(n.useContext)(S),o=Object(h.a)({},t,{tokenId:a});return r.a.createElement(e,o)}},x=function(e){function t(e,a){var n,r;Object(c.a)(this,t),(r=Object(s.a)(this,Object(u.a)(t).call(this,e))).context=void 0,r.utils=void 0,r.contracts=void 0;var o=r.props.methodArgs?r.props.methodArgs:[];r.utils=a.drizzle.web3.utils,r.contracts=a.drizzle.contracts;var i=e.tokenId;return r.state={dataKey:(n=r.contracts[r.props.contract].methods[r.props.method]).cacheCall.apply(n,[i].concat(Object(y.a)(o)))},r}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t,a=e.methodArgs,n=e.contract,r=e.method,o=e.tokenId,i=n!==e.contract,c=r!==e.method,l=JSON.stringify(a)!==JSON.stringify(e.methodArgs);(i||c||l)&&this.setState({dataKey:(t=this.contracts[e.contract].methods[e.method]).cacheCall.apply(t,[o].concat(Object(y.a)(e.methodArgs)))})}},{key:"render",value:function(){if(!this.props.contracts[this.props.contract].initialized)return r.a.createElement("span",null,"Initializing...");if(!(this.state.dataKey in this.props.contracts[this.props.contract][this.props.method]))return r.a.createElement("span",null,"Fetching...");var e=(this.props.contracts[this.props.contract].synced,"");this.props.hideIndicator&&(e="");var t=this.props.contracts[this.props.contract][this.props.method][this.state.dataKey].value;if(this.props.toUtf8&&(t=this.context.drizzle.web3.utils.hexToUtf8(t)),this.props.toAscii&&(t=this.context.drizzle.web3.utils.hexToAscii(t)),this.props.toEth&&(t=this.utils.fromWei(t,"ether")),this.props.toDate&&(t=O()(1e3*parseInt(t)).toString()),Array.isArray(t)){var a=t.map(function(t,a){return r.a.createElement("li",{key:a},"".concat(t),e)});return r.a.createElement("ul",null,a)}if("object"===typeof t){var n=0,o=[];return Object.keys(t).forEach(function(a){n!==parseInt(a)&&o.push(r.a.createElement("li",{key:n},r.a.createElement("strong",null,a),e,r.a.createElement("br",null),"".concat(t[a]))),n++}),r.a.createElement("ul",null,o)}return r.a.createElement("span",null,"".concat(t),e)}}]),t}(n.Component);x.contextTypes={drizzle:k.a.object};var z=I(Object(g.drizzleConnect)(x,function(e){return{contracts:e.contracts}})),T=a(31),A=(a(904),Object(n.createContext)(""));window.ethereum=window.ethereum||{};var P=function(e){var t=e.combinedCollected,a=e.vitalikPriceEth,o=(e.foreclosureTime,Object(n.useContext)(A)),i=parseFloat(a)*o;parseFloat(t);return r.a.createElement("div",{className:"section image-block-text"},r.a.createElement("p",null,"Current Price: ",r.a.createElement(z,{contract:"VitalikSteward",method:"price",toEth:!0})," ETH.",i>0&&" (~ ".concat(i.toFixed(2)," USD)")))},W=function(e){function t(e,a){var n;Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e,a))).utils=void 0,n.contracts=void 0,n.state=void 0,n.context=void 0,n.utils=a.drizzle.web3.utils,n.contracts=a.drizzle.contracts,n.getTotalCollected=n.getTotalCollected.bind(Object(E.a)(n)),n.getPatronageOwed=n.getPatronageOwed.bind(Object(E.a)(n)),n.getVitalikPriceEth=n.getVitalikPriceEth.bind(Object(E.a)(n));var r=e.tokenId;return n.state={patronageOwedKey:a.drizzle.contracts.VitalikSteward.methods.patronageOwed.cacheCall(r),totalCollectedKey:a.drizzle.contracts.VitalikSteward.methods.totalCollected.cacheCall(r),patronageOwed:"-1",combinedCollected:"-1",foreclosureTime:"N/A",vitalikPrice:"-1"},n.state=Object(h.a)({},n.state,{patronageOwed:n.getPatronageOwed(e),vitalikPrice:n.getVitalikPriceEth(e)}),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getTotalCollected",value:function(e){return e.contracts.VitalikSteward.initialized&&e.contracts.VitalikSteward.totalCollected[this.state.totalCollectedKey]?new this.utils.BN(e.contracts.VitalikSteward.totalCollected[this.state.totalCollectedKey].value):"-1"}},{key:"getPatronageOwed",value:function(e){return e.contracts.VitalikSteward.initialized&&e.contracts.VitalikSteward.patronageOwed[this.state.patronageOwedKey]?new this.utils.BN(e.contracts.VitalikSteward.patronageOwed[this.state.patronageOwedKey].value):"-1"}},{key:"getVitalikPriceEth",value:function(e){return e.contracts.VitalikSteward.initialized&&e.contracts.VitalikSteward.price["0x0"]?this.utils.fromWei(new this.utils.BN(e.contracts.VitalikSteward.price["0x0"].value),"ether").toString():"-1"}},{key:"componentWillReceiveProps",value:function(){var e=Object(w.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.combinedCollected,a=e.vitalikPrice,n=e.foreclosureTime;return r.a.createElement(P,{combinedCollected:t,vitalikPriceEth:a,foreclosureTime:n})}}]),t}(n.Component);W.contextTypes={drizzle:k.a.object};var V=I(Object(g.drizzleConnect)(W,function(e){return{contracts:e.contracts}})),N=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.drizzleStatus.initialized?n.Children.only(this.props.children):this.props.alternateLoader?r.a.createElement(this.props.alternateLoader,null):""===this.props.web3.status?r.a.createElement("div",{className:"section"},"This application is offline. Please ensure you have an Ethereum/web3 enabled browser."):r.a.createElement("main",{className:"container loading-screen"},r.a.createElement("div",{className:"pure-g"},r.a.createElement("div",{className:"pure-u-1-1"},r.a.createElement("h1",null,"\u2699\ufe0f"),r.a.createElement("p",null,"Loading dapp..."))))}}]),t}(n.Component),F=Object(g.drizzleConnect)(N,function(e){return{accounts:e.accounts,drizzleStatus:e.drizzleStatus,web3:e.web3}}),U=a(153),D=a(155),M=a.n(D),L=a(8),H=a(151),K=function(e){function t(e,a){var n;Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).contracts=void 0,n.utils=void 0,n.inputs=void 0,n.state=void 0,n.context=void 0,n.closeModal=function(e){e.preventDefault(),n.setState(function(e,t){return Object(h.a)({},e,{isOpen:!1,currentTxIndex:-1})})},n.openModal=function(){var e=Object(w.a)(f.a.mark(function e(t){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState(function(e,t){return Object(h.a)({},e,{isOpen:!0,currentTxIndex:-1})}),e.next=4,H.a.switchToInjectedWeb3();case 4:a=e.sent,n.setState(function(e,t){return Object(h.a)({},e,{connectedToInjectedWeb3:a})});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleInputChange=n.handleInputChange.bind(Object(E.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(E.a)(n)),n.contracts=a.drizzle.contracts,n.utils=a.drizzle.web3.utils;var r=n.contracts.VitalikSteward?n.contracts.VitalikSteward.abi:[];n.inputs=[];for(var o={},i=0;i<r.length;i++)if("buy"===r[i].name){n.inputs=r[i].inputs;for(var l=0;l<n.inputs.length;l++)o[n.inputs[l].name]="";break}return n.state={contractFunctions:o,isOpen:!1,connectedToInjectedWeb3:!1,currentTxIndex:-1,priceKey:a.drizzle.contracts.VitalikSteward.methods.price.cacheCall(e.tokenId)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t={};if(console.log(this.props.contracts.VitalikSteward.price[this.state.priceKey].value),this.state.contractFunctions.value){var a=this.props.contracts.VitalikSteward.price[this.state.priceKey],n=a&&a.value?a.value:0,r=new this.utils.BN(n);t.value=new this.utils.BN(this.utils.toWei(this.state.contractFunctions.value,"ether")).add(r)}var o=t?this.contracts.VitalikSteward.methods.buy.cacheSend(this.props.tokenId,this.utils.toWei(this.state.contractFunctions._newPrice,"ether"),t):this.contracts.VitalikSteward.methods.buy.cacheSend(this.props.tokenId,this.utils.toWei(this.state.contractFunctions._newPrice,"ether"));this.setState(function(e,t){return Object(h.a)({},e,{currentTxIndex:o})})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.transactions,n=t.transactionStack;e.transactions,e.transactionStack}},{key:"handleInputChange",value:function(e){this.setState(Object(h.a)({},this.state,{contractFunctions:Object(h.a)({},this.state.contractFunctions,Object(U.a)({},e.target.name,e.target.value))}))}},{key:"translateType",value:function(e){switch(!0){case/^uint/.test(e):return"number";case/^string/.test(e)||/^bytes/.test(e):return"text";case/^bool/.test(e):return"checkbox";default:return"text"}}},{key:"render",value:function(){var e="Your Initial Deposit",t=this.props,a=t.transactions,o=t.transactionStack,i=this.state.currentTxIndex,c="Submitting transaction to the Ethereum Network.",l="",s=!1;if(o[this.state.currentTxIndex]&&a[o[this.state.currentTxIndex]])switch(a[l=o[this.state.currentTxIndex]].status){case"pending":c="Transaction being processed by the Ethereum Network.";break;case"success":s=!0,c="Transaction is complete."}var u=-1!==i;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.b,{mainColor:"#7A7A7A",size:"small",onClick:this.openModal},"Buy"),r.a.createElement(L.h,{isOpen:this.state.isOpen},r.a.createElement(L.c,{width:"420px",p:0},r.a.createElement(L.b.Text,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.closeModal}),this.props.accounts[0]||this.state.connectedToInjectedWeb3?r.a.createElement(L.a,{p:4,mb:3,i:!0},u?r.a.createElement(n.Fragment,null,r.a.createElement(L.e.h3,null,"Processing Transaction"),r.a.createElement("p",null,c),!!l&&r.a.createElement("a",{href:"https://etherscan.io/tx/"+l,target:"_blank"},"View transaction on Ethersan"),!s&&r.a.createElement(L.g,{color:"red",size:"80px"})):r.a.createElement(n.Fragment,null,r.a.createElement(L.e.h3,null,"Purchase"),r.a.createElement(L.k,null,"Enter the desired values for the transaction."),r.a.createElement("form",{className:"pure-form pure-form-stacked",onSubmit:this.handleSubmit},r.a.createElement(L.f,{key:"_newPrice",type:"number",name:"_newPrice",value:this.state.contractFunctions._newPrice,placeholder:"Your Initial Sale Price",onChange:this.handleInputChange,style:{width:"100%"},startAdornment:r.a.createElement(M.a,{position:"start"},"ETH")}),r.a.createElement(n.Fragment,null,r.a.createElement("br",null),r.a.createElement(L.f,{key:e,type:"number",name:"value",value:this.state.contractFunctions[e],placeholder:e,onChange:this.handleInputChange,style:{width:"100%"},startAdornment:r.a.createElement(M.a,{position:"start"},"ETH")}),r.a.createElement("br",null),r.a.createElement("br",null))),r.a.createElement(V,null))):r.a.createElement(L.a,{p:4,mb:3},r.a.createElement(L.e.h3,null,"NOTICE"),r.a.createElement(L.k,null,"Unable to connect to metamask, so unable to sign transactions.")),!u&&r.a.createElement(L.d,{px:4,py:3,borderTop:1,borderColor:"#E8E8E8",justifyContent:"flex-end"},r.a.createElement(L.b,{mainColor:"#7A7A7A",size:"small",ml:3,onClick:this.handleSubmit},"Purchase this ad space")))))}}]),t}(n.Component);K.contextTypes={drizzle:k.a.object};var R,B=I(Object(g.drizzleConnect)(K,function(e){return{contracts:e.contracts,transactions:e.transactions,transactionStack:e.transactionStack,accounts:e.accounts}})),_=a(907),J=function(e){var t=e.image,a=e.uploadProgress,n=a.progress,o=a.done,i=n/t.ipfsDagSize*100;return r.a.createElement("div",null,o?r.a.createElement("h1",null,"Upload Complete"):r.a.createElement("div",null,i<98?r.a.createElement("div",null,r.a.createElement(L.l.Processing,{my:0,message:r.a.createElement("div",null,r.a.createElement(L.i,{value:i}),r.a.createElement("p",null,"Uploading to IPFS"))})):r.a.createElement("div",null,r.a.createElement(L.l.Processing,{my:0,message:"Verifying upload on IPFS"}))))},q=function(e){var t=e.updateImageHashOnSmartContract,a=Object(n.useState)({data:null,name:null,size:0,ipfsDagSize:0}),o=Object(T.a)(a,2),i=o[0],c=o[1],l=Object(n.useRef)(0);return r.a.createElement("div",null,i.data?r.a.createElement(J,{image:i,uploadProgress:l.current}):r.a.createElement("input",{type:"file",name:"file",className:"upload-file",id:"file",onChange:function(e){console.log("Uploading");var a=new FileReader,n=e.target.files[0],r=n.size,o=1.335*r;console.log({target:e.target}),a.onload=function(){var e=Object(w.a)(f.a.mark(function e(a){var n,i,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.target.result,c({data:n,size:r,ipfsDagSize:o}),e.next=4,window.ipfsNode.add(_.Buffer.from(n),{progress:function(e){return l.current={progress:e,done:!1}},pin:!1});case 4:return i=e.sent,s=i[0].hash,l.current={progress:o,done:!0,ipfsHash:s},t(s),e.next=10,window.ipfsNode.pin.add(s);case 10:e.sent;case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.readAsDataURL(n)},encType:"multipart/form-data",required:!0}))};!function(e){e[e.Deposit=0]="Deposit",e[e.Price=1]="Price",e[e.Closed=2]="Closed",e[e.UploadImage=3]="UploadImage",e[e.updateWebsiteUrl=4]="updateWebsiteUrl"}(R||(R={}));var G=function(e){function t(e,a){var n;Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).contracts=void 0,n.utils=void 0,n.inputs=void 0,n.state=void 0,n.drizzle=void 0,n.context=void 0,n.updateImageHashOnSmartContract=function(e){var t;n.state.modalState===R.UploadImage&&(t=n.contracts.VitalikSteward.methods.changeImage.cacheSend(n.props.tokenId,e)),n.setState(function(e,a){return Object(h.a)({},e,{currentTxIndex:t})})},n.handleSubmitOfWebsite=function(e){e.preventDefault();var t,a=n.state.updateUrl;t=n.contracts.VitalikSteward.methods.changeUrl.cacheSend(n.props.tokenId,a),n.setState(function(e,a){return Object(h.a)({},e,{currentTxIndex:t})})},n.handleWebsiteInputChange=function(e){n.setState(Object(h.a)({},n.state,{updateUrl:e.target.value}))},n.closeModal=function(e){e.preventDefault(),n.setState(function(e,t){return Object(h.a)({},e,{modalState:R.Closed,currentTxIndex:-1})})},n.setDepositWithdrawToggle=function(e){n.setState(function(t,a){return Object(h.a)({},t,{depositState:e})})},n.openModal=function(){var e=Object(w.a)(f.a.mark(function e(t){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState(function(e,a){return Object(h.a)({},e,{modalState:t,currentTxIndex:-1})}),e.next=3,H.a.switchToInjectedWeb3();case 3:a=e.sent,n.setState(function(e,t){return Object(h.a)({},e,{connectedToInjectedWeb3:a})});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleInputChange=n.handleInputChange.bind(Object(E.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(E.a)(n)),n.contracts=a.drizzle.contracts,n.utils=a.drizzle.web3.utils,n.drizzle=a.drizzle;n.contracts.VitalikSteward&&n.contracts.VitalikSteward.abi;n.inputs=[];return n.state={contractFunctions:{},modalState:R.Closed,connectedToInjectedWeb3:!1,currentTxIndex:-1,depositState:!0,depositAvailable:"",updateUrl:"",balance:-1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t,a=this.state.contractFunctions.newSettingValue,n=a||0,r=this.utils.toWei(n,"ether");if(this.state.modalState===R.Deposit){var o=this.state.depositState?"depositWei":"withdrawDeposit";t=this.contracts.VitalikSteward.methods[o].cacheSend(this.props.tokenId,{value:r})}else this.state.modalState===R.Price?t=this.contracts.VitalikSteward.methods.changePrice.cacheSend(this.props.tokenId,r):this.state.modalState===R.updateWebsiteUrl&&(t=this.contracts.VitalikSteward.methods.changeUrl.cacheSend(this.props.tokenId,r));this.setState(function(e,a){return Object(h.a)({},e,{currentTxIndex:t})})}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.props,n=(a.transactions,a.transactionStack,a.tokenId),r=this.context.drizzle.contracts.VitalikSteward.methods.depositAbleToWithdraw.cacheCall(n),o=e.contracts.VitalikSteward.depositAbleToWithdraw[r];if(o&&o.value){var i=this.utils.fromWei(o.value,"ether");this.state.depositAvailable!==i&&this.setState(Object(h.a)({},this.state,{depositAvailable:i}))}if(o&&o.value){var c=this.utils.fromWei(o.value,"ether");this.state.depositAvailable!==c&&this.setState(Object(h.a)({},this.state,{depositAvailable:c}))}this.props.accounts&&this.props.accounts[0]&&this.drizzle.web3.eth.getBalance(this.props.accounts[0]).then(function(e){t.setState(Object(h.a)({},t.state,{balance:e}))})}},{key:"handleInputChange",value:function(e){this.setState(Object(h.a)({},this.state,{contractFunctions:Object(h.a)({},this.state.contractFunctions,Object(U.a)({},e.target.name,e.target.value))}))}},{key:"translateType",value:function(e){switch(!0){case/^uint/.test(e):return"number";case/^string/.test(e)||/^bytes/.test(e):return"text";case/^bool/.test(e):return"checkbox";default:return"text"}}},{key:"render",value:function(){var e=this,t=this.props,a=t.transactions,o=t.transactionStack,i=this.state.currentTxIndex,c="Submitting transaction to the Ethereum Network.",l="",s=!1;if(o[this.state.currentTxIndex]&&a[o[this.state.currentTxIndex]])switch(a[l=o[this.state.currentTxIndex]].status){case"pending":c="Transaction being processed by the Ethereum Network.";break;case"success":s=!0,c="Transaction is complete."}var u=-1!==i;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.b,{style:{width:"100%"},mainColor:"#7A7A7A",size:"small",onClick:function(){return e.openModal(R.Price)}}," Update Price"),"\u2002",r.a.createElement(L.b,{style:{width:"100%"},mainColor:"#7A7A7A",size:"small",onClick:function(){return e.openModal(R.Deposit)}}," Add/Remove Deposit"),"\u2002",r.a.createElement(L.b,{style:{width:"100%"},mainColor:"#7A7A7A",size:"small",onClick:function(){return e.openModal(R.UploadImage)}}," Upload Image"),"\u2002",r.a.createElement(L.b,{style:{width:"100%"},mainColor:"#7A7A7A",size:"small",onClick:function(){return e.openModal(R.updateWebsiteUrl)}}," Update Website"),r.a.createElement("div",{style:{position:"absolute",top:"1000"}},r.a.createElement(L.h,{isOpen:this.state.modalState===R.Price},r.a.createElement(L.c,{width:"420px",p:0},r.a.createElement(L.b.Text,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.closeModal}),this.props.accounts[0]||this.state.connectedToInjectedWeb3?r.a.createElement(L.a,{p:4,mb:3},u?r.a.createElement(n.Fragment,null,r.a.createElement(L.e.h3,null,"Processing Transaction"),r.a.createElement("p",null,c),!!l&&r.a.createElement("a",{href:"https://etherscan.io/tx/"+l,target:"_blank"},"View transaction on Ethersan"),!s&&r.a.createElement(L.g,{color:"red",size:"80px"})):r.a.createElement(n.Fragment,null,r.a.createElement(L.e.h3,null,"Price"),r.a.createElement(L.k,null,"How much would you like to receive from selling Vitalik?"),r.a.createElement("form",{className:"pure-form pure-form-stacked",onSubmit:this.handleSubmit},r.a.createElement(L.f,{key:"newSettingValue",type:"number",name:"newSettingValue",value:this.state.contractFunctions.newSettingValue||0,placeholder:"Price",onChange:this.handleInputChange,style:{width:"100%"},startAdornment:r.a.createElement(M.a,{position:"start"},"ETH")}),r.a.createElement("br",null)),r.a.createElement(V,null))):r.a.createElement(L.a,{p:4,mb:3},r.a.createElement(L.e.h3,null,"NOTICE"),r.a.createElement(L.k,null,"Unable to connect to metamask, so unable to sign transactions.")),!u&&r.a.createElement(L.d,{px:4,py:3,borderTop:1,borderColor:"#E8E8E8",justifyContent:"flex-end"},r.a.createElement(L.b,{mainColor:"#7A7A7A",size:"small",ml:3,onClick:this.handleSubmit},"Update"))))),r.a.createElement(L.h,{isOpen:this.state.modalState===R.Deposit},r.a.createElement(L.c,{width:"420px",p:0},r.a.createElement(L.b.Text,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.closeModal}),this.props.accounts[0]||this.state.connectedToInjectedWeb3?r.a.createElement(L.a,{p:4,mb:3},u?r.a.createElement(n.Fragment,null,r.a.createElement(L.e.h3,null,"Processing Transaction"),r.a.createElement("p",null,c),!!l&&r.a.createElement("a",{href:"https://etherscan.io/tx/"+l,target:"_blank"},"View transaction on Ethersan"),!s&&r.a.createElement(L.g,{color:"red",size:"80px"})):r.a.createElement(n.Fragment,null,r.a.createElement(L.e.h3,null,"Deposit"),r.a.createElement(L.k,null,"How do you want to change your deposit?"),r.a.createElement(L.j,{checked:this.state.depositState,onChange:function(){return e.setDepositWithdrawToggle(!0)},label:"Deposit",my:2}),r.a.createElement(L.j,{checked:!this.state.depositState,onChange:function(){return e.setDepositWithdrawToggle(!1)},label:"Withdrawl",my:2}),r.a.createElement("form",{className:"pure-form pure-form-stacked",onSubmit:this.handleSubmit},r.a.createElement(L.f,{key:"newSettingValue",type:"number",name:"newSettingValue",value:this.state.contractFunctions.newSettingValue||0,placeholder:"Amount to ".concat(this.state.depositState?"add":"remove"),onChange:this.handleInputChange,style:{width:"100%"},startAdornment:r.a.createElement(M.a,{position:"start"},"ETH")}),r.a.createElement("br",null)),r.a.createElement(V,null))):r.a.createElement(L.a,{p:4,mb:3},r.a.createElement(L.e.h3,null,"NOTICE"),r.a.createElement(L.k,null,"Unable to connect to metamask, so unable to sign transactions.")),!u&&r.a.createElement(L.d,{px:4,py:3,borderTop:1,borderColor:"#E8E8E8",justifyContent:"flex-end"},r.a.createElement(L.b,{mainColor:"#7A7A7A",size:"small",ml:3,onClick:this.handleSubmit},this.state.depositState?"Add":"Withdraw")))),r.a.createElement(L.h,{isOpen:this.state.modalState===R.UploadImage},r.a.createElement(L.c,{width:"420px",p:0},r.a.createElement(L.b.Text,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.closeModal}),this.props.accounts[0]||this.state.connectedToInjectedWeb3?r.a.createElement(L.a,{p:4,mb:3},u?r.a.createElement(n.Fragment,null,r.a.createElement(L.e.h3,null,"Processing Transaction"),r.a.createElement("p",null,c),!!l&&r.a.createElement("a",{href:"https://etherscan.io/tx/"+l,target:"_blank"},"View transaction on Ethersan"),!s&&r.a.createElement(L.g,{color:"red",size:"80px"})):r.a.createElement(n.Fragment,null,r.a.createElement(L.e.h3,null,"Upload Image"),r.a.createElement(L.k,null,"We recommend an optimal image dimesions of 300 x 300 pixels"),r.a.createElement("form",{className:"pure-form pure-form-stacked"},r.a.createElement(q,{updateImageHashOnSmartContract:this.updateImageHashOnSmartContract}),r.a.createElement("br",null)),r.a.createElement(L.k,null,"Please be patient, uploading the image can take some time."),r.a.createElement(V,null))):r.a.createElement(L.a,{p:4,mb:3},r.a.createElement(L.e.h3,null,"NOTICE"),r.a.createElement(L.k,null,"Unable to connect to metamask, so unable to sign transactions.")))),r.a.createElement(L.h,{isOpen:this.state.modalState===R.updateWebsiteUrl},r.a.createElement(L.c,{width:"420px",p:0},r.a.createElement(L.b.Text,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.closeModal}),this.props.accounts[0]||this.state.connectedToInjectedWeb3?r.a.createElement(L.a,{p:4,mb:3},u?r.a.createElement(n.Fragment,null,r.a.createElement(L.e.h3,null,"Processing Transaction"),r.a.createElement("p",null,c),!!l&&r.a.createElement("a",{href:"https://etherscan.io/tx/"+l,target:"_blank"},"View transaction on Ethersan"),!s&&r.a.createElement(L.g,{color:"red",size:"80px"})):r.a.createElement(n.Fragment,null,r.a.createElement(L.e.h3,null,"Update website url"),r.a.createElement(L.k,null,"Don't forget to add http or https at the beginning"),r.a.createElement("form",{className:"pure-form pure-form-stacked",onSubmit:this.handleSubmitOfWebsite},r.a.createElement(L.f,{key:"updateUrl",type:"text",name:"updateUrl",value:this.state.updateUrl||"",onChange:this.handleWebsiteInputChange,style:{width:"100%"}}),r.a.createElement("br",null)),r.a.createElement(V,null))):r.a.createElement(L.a,{p:4,mb:3},r.a.createElement(L.e.h3,null,"NOTICE"),r.a.createElement(L.k,null,"Unable to connect to metamask, so unable to sign transactions.")),!u&&r.a.createElement(L.d,{px:4,py:3,borderTop:1,borderColor:"#E8E8E8",justifyContent:"flex-end"},r.a.createElement(L.b,{mainColor:"#7A7A7A",size:"small",ml:3,onClick:this.handleSubmitOfWebsite},"Update Website Url")))))}}]),t}(n.Component);G.contextTypes={drizzle:k.a.object};var Y=I(Object(g.drizzleConnect)(G,function(e){return{contracts:e.contracts,transactions:e.transactions,transactionStack:e.transactionStack,accounts:e.accounts}})),Q=function(e){return function(){return r.a.createElement("div",{className:"image-container"},window.initialImageDetailsLoaded&&r.a.createElement("a",{href:"".concat(window.initialImageDetails.urls[e],"?ref=alwaysforsale")},r.a.createElement("img",{src:window.rootCdnUrl+window.initialImageDetails.images[e],style:{width:"100%"}})))}},X=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).contracts=void 0,n.utils=void 0,n.inputs=void 0,n.state=void 0,n.context=void 0,n.getBase64Image=function(e){n.props.ifpsIsLoade||(n.setState(Object(h.a)({},n.state,{hasStartedLoadingIpfsImage:!0})),window.ipfsNode.cat(e,function(e,t){if(e)return console.error(e);n.setState(Object(h.a)({},n.state,{base64Image:t.toString()}))}))},n.calcTotalMonthRevenue=function(e,t,a){n.setState({totalMonthRevenue:e+t+a})},n.contracts=a.drizzle.contracts,n.utils=a.drizzle.web3.utils,n.context=a,n.state={tokenOwner:"",hasheKey:a.drizzle.contracts.VitalikSteward.methods.hashes.cacheCall(e.tokenId),urlKey:a.drizzle.contracts.VitalikSteward.methods.urls.cacheCall(e.tokenId),hashe:null,base64Image:"",websiteUrl:"",totalMonthRevenue:"",hasStartedLoadingIpfsImage:!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(){var e=Object(w.a)(f.a.mark(function e(t){var a,n,r,o,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.state.urlKey in this.props.contracts.VitalikSteward.urls&&this.state.urlKey in t.contracts.VitalikSteward.urls&&(a=t.contracts.VitalikSteward.urls[this.state.urlKey].value,this.state.websiteUrl!==a&&this.setState(Object(h.a)({},this.state,{websiteUrl:a}))),this.state.hasheKey in this.props.contracts.VitalikSteward.hashes&&this.state.hasheKey in t.contracts.VitalikSteward.hashes&&(n=t.contracts.VitalikSteward.hashes[this.state.hasheKey].value,this.state.hash!==n?(this.getBase64Image(n),this.setState(Object(h.a)({},this.state,{hash:n}))):this.state.hasStartedLoadingIpfsImage&&this.getBase64Image(n)),r=t.tokenId,o=this.context.drizzle.contracts.ERC721Full.methods.ownerOf.cacheCall(r),(i=t.contracts.ERC721Full.ownerOf[o])&&i.value&&this.state.tokenOwner!==i.value&&this.setState(Object(h.a)({},this.state,{tokenOwner:i.value}));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.tokenOwner,t=this.props,a=t.accounts,o=t.tokenId,i=H.a.providerInjected,c=e===a[0],l=window.initialImageDetailsLoaded,s=!!this.state.base64Image||l,u=this.state.base64Image?this.state.base64Image:window.initialImageDetailsLoaded?window.rootCdnUrl+window.initialImageDetails.images[o]:"",d=this.state.websiteUrl?this.state.websiteUrl:l?window.initialImageDetails.urls[o]:"";return console.log("the image url:",u),r.a.createElement(n.Fragment,null,r.a.createElement(F,{alternateLoader:Q(o)},r.a.createElement("div",{className:"image-container"},r.a.createElement("a",{href:"".concat(d,"?ref=alwaysforsale")},s&&r.a.createElement("img",{src:u,style:{width:"100%"}})),this.props.displayPurchase&&r.a.createElement("div",{className:"interaction-button-container"},r.a.createElement("div",{className:"interaction-buttons"},c?r.a.createElement("div",null,r.a.createElement(n.Fragment,null,r.a.createElement(Y,null))):r.a.createElement("div",null,i?r.a.createElement(B,null):r.a.createElement("h3",{style:{margin:0,color:"#6bad3e",padding:"0.8rem 1.2rem",display:"inline-block"}},"Install ",r.a.createElement("a",{href:"https://metamask.io"},"Metamask")," to buy this ad space."),r.a.createElement(V,null)))))))}}]),t}(n.Component);X.contextTypes={drizzle:k.a.object};var Z=I(Object(g.drizzleConnect)(X,function(e){return{contracts:e.contracts,accounts:e.accounts}})),$=function(e){function t(e,a){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(F,{alternateLoader:Q(this.props.tokenId)},r.a.createElement(Z,{displayPurchase:this.props.displayPurchase,tokenId:this.props.tokenId}))}}]),t}(n.Component),ee=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={isOpen:!1},a.closeModal=a.closeModal.bind(Object(E.a)(a)),a.openModal=a.openModal.bind(Object(E.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"closeModal",value:function(e){e.preventDefault(),this.setState(function(e,t){return{isOpen:!1}})}},{key:"openModal",value:function(e){e.preventDefault(),this.setState(function(e,t){return{isOpen:!0}})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.b,{onClick:this.openModal,mainColor:"#7A7A7A",size:"small",className:"information-button"},"About"),r.a.createElement(L.h,{isOpen:this.state.isOpen,style:{transform:"translate(0, -1000px)"},className:"test"},r.a.createElement(L.c,{width:"60vw",p:0},r.a.createElement(L.b.Text,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.closeModal}),r.a.createElement(L.a,{p:4,mb:3,className:"scrollable-content"},r.a.createElement(n.Fragment,null,r.a.createElement("h1",null,"About our always for sale adspace"),r.a.createElement("p",null,"This project was created at the #ETHIndia2019 hackathon. The purpose of the project is two fold:"),r.a.createElement("p",null,"1. To generate funds for wildlife conservation. How? We created a project called wildcards.world at the #ETHCapeTown2019 hackathon to raise funds for wildlife conservation. Subsequently, we were accepted into a 6 month blockchain incubator in Paris to accelerate the developement of this platform. The funds generated from our #ETHIndia 'always for sale adspace' will provide funding for us to develop our ",r.a.createElement("a",{href:"https://wildcards.world"},"wildcards")," project and hence raise funds for conservation efforts."),r.a.createElement("p",null,"2. This project is a continued social experiment to understand how always for sale adspace might behave in a viral marketplace. Many of you may be familiar with the ",r.a.createElement("a",{href:"http://www.milliondollarhomepage.com"},"milliondollarhomepage")," and how this simple project sold a million pixels at a dollar each. This rather aims at scarcity and introduces a very interesting concept where each piece of marketing real estate will be always for sale, forever."),r.a.createElement("p",null,"The success of this project will allow us to provide always for sale plugin marketing solutions to other companies and continue to fund the developement of wildcards - the exploration of sustainable solutions using an always for sale mechanic."),r.a.createElement("p",null,"Join our ",r.a.createElement("a",{href:"https://t.me/wildcardsworld"},"telegram")," ",r.a.createElement("br",null),"Email us to chat:\xa0",r.a.createElement("a",{href:"jonjon@wildcards.world"},"jonjon@wildcards.world")),r.a.createElement("p",null,"Made by Denham Preen, JonJon Clark and Jason Smythe"),r.a.createElement("p",null,"Version: 1.0.1"))),r.a.createElement(L.d,{px:4,py:3,borderTop:1,borderColor:"#E8E8E8",justifyContent:"flex-end"},r.a.createElement(L.b.Outline,{onClick:this.closeModal,mainColor:"#7A7A7A",size:"small"},"Close")))))}}]),t}(r.a.Component),te=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={isOpen:!1},a.closeModal=a.closeModal.bind(Object(E.a)(a)),a.openModal=a.openModal.bind(Object(E.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"closeModal",value:function(e){e.preventDefault(),this.setState(function(e,t){return{isOpen:!1}})}},{key:"openModal",value:function(e){e.preventDefault(),this.setState(function(e,t){return{isOpen:!0}})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.b,{onClick:this.openModal,mainColor:"#7A7A7A",size:"small"},"How it works?"),r.a.createElement(L.h,{isOpen:this.state.isOpen},r.a.createElement(L.c,{width:"60vw",p:0},r.a.createElement(L.b.Text,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.closeModal}),r.a.createElement(L.a,{p:4,mb:3,className:"scrollable-content"},r.a.createElement(n.Fragment,null,r.a.createElement("h1",null,"How it works?"),r.a.createElement("p",null,"1. Log onto our website and a grid showing all 3 advertising blocks will be displayed."),r.a.createElement("p",null,"2. All 3 of these blocks will be always on sale\u2026 forever."),r.a.createElement("p",null,"3. Simply click buy on the block you would like to purchase (you will need metamask and small amount of ether):"),r.a.createElement("p",null,"4. Set the the selling price for your block (this allows our blocks to be always for sale. If you set the selling price at say 2 ETH, you will receive 2 ETH if someone buys this block from you - making money while advertising, pretty neat right?)"),r.a.createElement("p",null,"5. Add a deposit in ETH to pay for owning the space. If you set the selling price at 2 ETH, you will have to pay 2 ETH per month in order to keep this ad space. (The funds generated from this project are going towards funding our wildcards project which in turn funds conservation. We got into a 6 month Paris blockchain incubator, but we need to self fund.)"),r.a.createElement("p",null,"6. Now you own the block congrats! If you refresh the page you will be allowed to upload a logo of your company and add your website link. Anyone who visits the webpage will now see you company displayed in that block, until someone buys that block from you, or your deposit runs out."))),r.a.createElement(L.d,{px:4,py:3,borderTop:1,borderColor:"#E8E8E8",justifyContent:"flex-end"},r.a.createElement(L.b.Outline,{mainColor:"#7A7A7A",size:"small",onClick:this.closeModal},"Close")))))}}]),t}(r.a.Component),ae=a(281),ne=(a(2439),Object(n.createContext)("")),re=function(e){var t=e.children,a=Object(n.useState)(window.initialImageDetailsLoaded),o=Object(T.a)(a,2),i=o[0],c=o[1];return Object(n.useEffect)(function(){c(window.initialImageDetailsLoaded)},[window.initialImageDetailsLoaded]),r.a.createElement(ne.Provider,{value:{isLoaded:i,anotherValue:"test"}},t)};window.ipfsNode=window.ipfsNode||{};var oe,ie=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.drizzleLoaded||(ae.b.info("Our contracts are bullet proof and our frontend is being improved to match it too",{position:"top-right",autoClose:6e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),setTimeout(function(){ae.b.info("We are on the crisp chat below please message us with any questions")},6400)),this.setState({displayPurchase:!1,ipfsIsLoaded:!0}),window.ipfsNode&&Promise.resolve().then(a.t.bind(null,907,7)).then(function(t){var a=t.default;window.ipfsNode=new a,e.setState(Object(h.a)({},e.state,{ipfsIsLoaded:!0}))}).catch(function(e){})}},{key:"render",value:function(){var e=this,t=this.props.drizzleLoaded,a=this.state.ipfsIsLoaded,n=window.initialImageDetailsLoaded;return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement(ae.a,null),r.a.createElement("h1",null,"These ads are always for sale, purchase the ad space and set your own monthly payment...",r.a.createElement("br",null)," even make a profit when someone buys the ad space from you"),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{value:this.state.displayPurchase||!1,onToggle:function(){e.setState({displayPurchase:!e.state.displayPurchase})}}),r.a.createElement("label",null,r.a.createElement("span",{style:{color:"white"}},"Click toggle to buy ad")))),r.a.createElement("div",{className:"Grid"},[0,1,2].map(function(o){return r.a.createElement("div",{className:"Grid-item"},t?r.a.createElement(C,{tokenId:o},r.a.createElement($,{ifpsIsLoade:a,displayPurchase:e.state.displayPurchase,tokenId:o})):n?r.a.createElement("div",{className:"image-container"},r.a.createElement("a",{href:"".concat(window.initialImageDetails.urls[o],"?ref=alwaysforsale")},r.a.createElement("img",{src:window.rootCdnUrl+window.initialImageDetails.images[o]}))):r.a.createElement("p",null,"loading image..."))})),r.a.createElement("footer",null,r.a.createElement("div",{className:"socials"},r.a.createElement("div",{className:"fb-share-button","data-href":"http://alwaysforsale.io","data-layout":"button","data-size":"small"},r.a.createElement("a",{target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Falwaysforsale.io%2F&src=sdkpreparse",className:"fb-xfbml-parse-ignore"},"Share")),r.a.createElement("div",null,r.a.createElement("a",{href:"https://twitter.com/intent/tweet?button_hashtag=Alwaysforsale.io&ref_src=twsrc%5Etfw",className:"twitter-hashtag-button","data-show-count":"false"},"Tweet #Alwaysforsale"))),r.a.createElement("div",{className:"more-info"},r.a.createElement(ee,null),r.a.createElement("br",null),r.a.createElement(te,null))),r.a.createElement("h4",{style:{color:"white",textAlign:"center"}},"This homepage is currently in line to make 0.8150 ETH per month based on current ad space prices"))}}]),t}(n.Component),ce=(oe=ie,function(e){var t=Object(n.useContext)(ne);console.log("the preloadImage!!!!",t);var a=Object(h.a)({},e,{preloadImage:t});return r.a.createElement(oe,a)}),le=function(e){return console.log("the props for template",e),r.a.createElement(re,null,r.a.createElement(ce,e))},se=(a(2442),r.a.lazy(function(){return a.e(3).then(a.bind(null,2447))})),ue=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(le,{drizzleLoaded:!1})},r.a.createElement(se,null,r.a.createElement(le,{drizzleLoaded:!0})))}}]),t}(n.Component);i.a.render(r.a.createElement(ue,null),document.getElementById("root"))},563:function(e,t){},644:function(e,t){},912:function(e,t,a){e.exports=a(2444)},974:function(e,t){},976:function(e,t){}},[[912,1,2]]]);
//# sourceMappingURL=main.58c6695b.chunk.js.map