{"version":3,"sources":["web3ProvideSwitcher.ts","components/TokenIdContext.tsx","components/ContractData.tsx","components/USDPriceContext.tsx","components/TokenOverview.tsx","components/Offline.js","components/BuyModal.tsx","components/UpdateModal.tsx","components/UploadImage.js","components/Dapp.tsx","components/About.js","components/HowItworks.js","components/PreloadedImageContext.tsx","components/Template.tsx","App.js","index.tsx"],"names":["getInjectedWeb3","_ref","Object","_home_jasoons_Documents_india_hackathon_ethindia_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","_home_jasoons_Documents_india_hackathon_ethindia_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","a","mark","_callee","_window","ethereum","_ref2","currentProvider","provider","wrap","_context","prev","next","window","enable","abrupt","providerInjected","t0","web3","Web3","providers","WebsocketProvider","t1","Error","stop","apply","this","arguments","getInjectedWeb3NoLoad","error","console","log","Web3ProviderSwitcher","_home_jasoons_Documents_india_hackathon_ethindia_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","injectedWeb3","defaultWeb3","usingInjectedWeb3","instance","_getInjectedWeb3NoLoa","_context2","_this","Proxy","get","obj","prop","__webpack_exports__","TokenIdContext","createContext","TokenIdProvider","children","tokenId","react_default","createElement","Provider","value","connectTokenId","WrappedComponent","props","useContext","newProps","objectSpread","ContractData","context","_this$contracts$_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","utils","contracts","methodArgs","drizzle","state","dataKey","contract","methods","method","cacheCall","concat","toConsumableArray","nextProps","_this$contracts$nextP","didContractChange","didMethodChange","didArgsChange","JSON","stringify","setState","initialized","pendingSpinner","synced","hideIndicator","displayData","toUtf8","hexToUtf8","toAscii","hexToAscii","toEth","fromWei","toDate","moment","parseInt","toString","Array","isArray","displayListItems","map","datum","index","key","i","displayObjectProps","keys","forEach","push","Component","contextTypes","PropTypes","object","drizzleConnect","UsdPriceContext","DisplayComponent","combinedCollected","vitalikPriceEth","usdPrice","foreclosureTime","priceOfGorillaInUsd","parseFloat","className","components_ContractData","toFixed","ActionSection","getTotalCollected","bind","assertThisInitialized","getPatronageOwed","getVitalikPriceEth","patronageOwedKey","VitalikSteward","patronageOwed","totalCollectedKey","totalCollected","vitalikPrice","BN","_this$state","TokenOverview_DisplayComponent","OfflineContainer","drizzleStatus","Children","only","alternateLoader","status","accounts","BuyModal","inputs","closeModal","e","preventDefault","isOpen","currentTxIndex","openModal","asyncToGenerator","regenerator_default","connectedToInjectedWeb3","web3ProvideSwitcher","switchToInjectedWeb3","sent","_x","handleInputChange","handleSubmit","abi","contractFunctions","length","name","j","priceKey","price","event","args","artworkPrice","toWei","add","cacheSend","_newPrice","_this$props","transactions","transactionStack","defineProperty","target","type","test","valueLabel","_this$props2","transactionStatus","txHash","txComplete","transactionProcessing","Fragment","index_es","mainColor","size","onClick","width","p","Text","icononly","icon","color","position","top","right","mt","mr","mb","react","h3","href","onSubmit","placeholder","onChange","style","startAdornment","InputAdornment_default","TokenOverview","px","py","borderTop","borderColor","justifyContent","ml","ModalState","UploadProgress","image","_ref$uploadProgress","uploadProgress","progress","done","progPercent","ipfsDagSize","Processing","my","message","UploadImage","updateImageHashOnSmartContract","_useState","useState","data","_useState2","slicedToArray","currentImage","setCurrentImage","progressRef","useRef","UploadImage_UploadProgress","current","id","evt","reader","FileReader","file","files","ipfsApproxDagSize","onload","_ref3","upload","result","ipfsHash","ipfsNode","Buffer","from","pin","hash","readAsDataURL","encType","required","imageHash","modalState","handleSubmitOfWebsite","inputValue","updateUrl","handleWebsiteInputChange","Closed","setDepositWithdrawToggle","depositState","depositAvailable","balance","inputValueRawMaybe","inputValueRaw","Deposit","contractFunction","Price","updateWebsiteUrl","_this2","depositKey","depositAbleToWithdraw","depositObj","eth","getBalance","then","_this3","checked","label","components_UploadImage","alternateBasicImage","initialImageDetailsLoaded","initialImageDetails","urls","src","rootCdnUrl","images","Dapp","getBase64Image","ifpsIsLoade","hasStartedLoadingIpfsImage","cat","err","base64Image","calcTotalMonthRevenue","ad1","ad2","ad3","totalMonthRevenue","tokenOwner","hasheKey","hashes","urlKey","hashe","websiteUrl","urlNext","hashNext","tokenOwnerKey","ERC721Full","ownerOf","tokenOwnerObj","showDapp","isTokenOwner","displayPreloadedImages","displayImage","imageUrl","adLink","Offline","displayPurchase","UpdateModal","components_BuyModal","margin","padding","display","DappConnected","DappWrapper","About","transform","Outline","React","HowItWorks","PreloadImageContext","PreloadImageProvider","isLoaded","setIsLoaded","useEffect","anotherValue","Template","drizzleLoaded","toast","info","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","setTimeout","ipfsIsLoaded","Promise","resolve","__webpack_require__","t","IPFS","default","catch","ifpsIsLoaded","imageDataLoaded","react_toastify","lib_default","onToggle","TokenIdContext_TokenIdProvider","components_Dapp","data-href","data-layout","data-size","data-show-count","components_About","HowItworks","textAlign","InnerComponent","preloadImage","components_Template","PreloadedImageContext_PreloadImageProvider","DrizzleProvider","lazy","App","fallback","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.4f77e0c6.chunk.js","sourcesContent":["import HDWalletProvider from \"truffle-hdwallet-provider\"\nimport Web3 from \"web3\"\n\nconst getInjectedWeb3 = async (): Promise<{ provider: any, providerInjected: boolean }> => {\n\n  if (window.ethereum) {\n    const { ethereum } = window\n    try {\n      await ethereum.enable()\n      return { provider: ethereum, providerInjected: true }\n    } catch (error) {\n      // User denied account access...\n    }\n  } else if (typeof (<any>window).web3 !== 'undefined') {\n    // Checking if Web3 has been injected by the browser (Mist/MetaMask)\n    // Use Mist/MetaMask's provider.\n    const { currentProvider } = new Web3((<any>window).web3.currentProvider)\n\n    return { provider: currentProvider, providerInjected: true }\n  }\n  try {\n    // Web3 in drizzle seems to have a bug with websockts, using http-provider so long\n    var provider = new Web3.providers.WebsocketProvider(\n      \"wss://mainnet.infura.io/ws/v3/e811479f4c414e219e7673b6671c2aba\"\n    )\n    return { provider, providerInjected: false }\n  } catch (error) {\n    // Out of web3 options; throw.\n    throw new Error('Cannot find injected web3 or valid fallback.')\n  }\n}\nconst getInjectedWeb3NoLoad = (): { provider: any, providerInjected: boolean } => {\n\n  if (window.ethereum) {\n    const { ethereum } = window\n    try {\n      return { provider: ethereum, providerInjected: true }\n    } catch (error) {\n      // User denied account access...\n      console.log(error)\n    }\n  } else if (typeof (<any>window).web3 !== 'undefined') {\n    console.log('we have the window web3')\n    // Checking if Web3 has been injected by the browser (Mist/MetaMask)\n    // Use Mist/MetaMask's provider.\n    const { currentProvider } = new Web3((<any>window).web3.currentProvider)\n\n    return { provider: currentProvider, providerInjected: true }\n  }\n  try {\n    // Web3 in drizzle seems to have a bug with websockts, using http-provider so long\n    const provider = new Web3.providers.WebsocketProvider(\n      \"wss://mainnet.infura.io/ws/v3/e811479f4c414e219e7673b6671c2aba\"\n    )\n    return { provider, providerInjected: false }\n  } catch (error) {\n    // Out of web3 options; throw.\n    throw new Error('Cannot find injected web3 or valid fallback.')\n  }\n}\nclass Web3ProviderSwitcher {\n\n  public static instance: Web3ProviderSwitcher\n  public injectedWeb3: any = null\n  public defaultWeb3: any\n  public providerInjected: boolean = false\n  public usingInjectedWeb3: boolean = false\n\n  constructor() {\n    if (Web3ProviderSwitcher.instance) { return Web3ProviderSwitcher.instance }\n    Web3ProviderSwitcher.instance = this\n\n    const { provider, providerInjected } = getInjectedWeb3NoLoad()\n    this.providerInjected = providerInjected\n    this.defaultWeb3 = provider\n  }\n\n\n  public async switchToInjectedWeb3() {\n    try {\n      const { provider: web3, providerInjected } = await getInjectedWeb3()\n      this.injectedWeb3 = web3\n      this.providerInjected = providerInjected\n      this.usingInjectedWeb3 = true\n    } catch (e) {\n      console.log(e)\n    }\n\n    return this.usingInjectedWeb3\n  }\n\n  public createSwitchableWeb3() {\n    const web3RequestHandler = {\n      get: (obj: any, prop: string) =>\n        this.usingInjectedWeb3 ? this.injectedWeb3[prop] : this.defaultWeb3[prop]\n    }\n\n    return new Proxy({}, web3RequestHandler)\n  }\n}\n\nexport default new Web3ProviderSwitcher()\n","import React, { createContext, useContext, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nexport const TokenIdContext = createContext<any>('');\n\n\ninterface ProviderProps {\n  children: any,//React.Component\n  tokenId: number\n}\n\nexport const TokenIdProvider: React.FunctionComponent<ProviderProps> = ({ children, tokenId }) => {\n  return <TokenIdContext.Provider value={tokenId}>\n    {children}\n  </TokenIdContext.Provider>\n};\n\nTokenIdProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport const useTokenId = () => useContext(TokenIdContext);\n\nexport const connectTokenId = (WrappedComponent: any) => {\n  return (props: any) => {\n    const tokenId = useTokenId()\n    const newProps = { ...props, tokenId }\n    return <WrappedComponent {...newProps} />\n  }\n}\n","import { drizzleConnect } from \"drizzle-react\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport moment from \"moment\";\nimport { useTokenId } from \"./TokenIdContext\";\nimport { connectTokenId } from \"./TokenIdContext\";\n\nclass ContractData extends Component<{\n  contracts: any, methodArgs: any, method: any, contract: any, toUtf8: any\n  , toAscii: any\n  , toEth: any\n  , toDate: any\n  , hideIndicator: any\n}, { dataKey: any }> {\n\n  static contextTypes = {\n    drizzle: PropTypes.object\n  }\n\n  context: any;\n  utils: any\n  contracts: any\n  constructor(props: any, context: any) {\n    super(props);\n\n    // Fetch initial value from chain and return cache key for reactive updates.\n    var methodArgs = this.props.methodArgs ? this.props.methodArgs : [];\n\n    this.utils = context.drizzle.web3.utils;\n    this.contracts = context.drizzle.contracts;\n\n    const tokenId = props.tokenId\n    this.state = {\n      dataKey: this.contracts[this.props.contract].methods[\n        this.props.method\n      ].cacheCall(tokenId, ...methodArgs),\n    };\n  }\n\n  // Will not fix legacy component\n  // eslint-disable-next-line react/no-deprecated\n  componentWillReceiveProps(nextProps: any) {\n    const { methodArgs, contract, method, tokenId } = nextProps;\n\n    const didContractChange = contract !== nextProps.contract;\n    const didMethodChange = method !== nextProps.method;\n    const didArgsChange =\n      JSON.stringify(methodArgs) !== JSON.stringify(nextProps.methodArgs);\n\n    if (didContractChange || didMethodChange || didArgsChange) {\n      this.setState({\n        dataKey: this.contracts[nextProps.contract].methods[\n          nextProps.method\n        ].cacheCall(tokenId, ...nextProps.methodArgs),\n      });\n    }\n  }\n\n  render() {\n    // Contract is not yet intialized.\n    if (!this.props.contracts[this.props.contract].initialized) {\n      return <span>Initializing...</span>;\n    }\n\n    // If the cache key we received earlier isn't in the store yet; the initial value is still being fetched.\n    if (\n      !(\n        this.state.dataKey in\n        this.props.contracts[this.props.contract][this.props.method]\n      )\n    ) {\n      return <span>Fetching...</span>;\n    }\n\n    // Show a loading spinner for future updates.\n    var pendingSpinner = this.props.contracts[this.props.contract].synced\n      ? \"\"\n      : \"\";\n\n    // Optionally hide loading spinner (EX: ERC20 token symbol).\n    if (this.props.hideIndicator) {\n      pendingSpinner = \"\";\n    }\n\n    var displayData = this.props.contracts[this.props.contract][\n      this.props.method\n    ][this.state.dataKey].value;\n\n    // Optionally convert to UTF8\n    if (this.props.toUtf8) {\n      displayData = this.context.drizzle.web3.utils.hexToUtf8(displayData);\n    }\n\n    // Optionally convert to Ascii\n    if (this.props.toAscii) {\n      displayData = this.context.drizzle.web3.utils.hexToAscii(displayData);\n    }\n\n    // Optionally convert wei to ETH\n    if (this.props.toEth) {\n      displayData = this.utils.fromWei(displayData, 'ether');\n    }\n\n    if (this.props.toDate) {\n      displayData = moment(parseInt(displayData) * 1000).toString();\n    }\n\n    // If return value is an array\n    if (Array.isArray(displayData)) {\n      const displayListItems = displayData.map((datum, index) => {\n        return (\n          <li key={index}>\n            {`${datum}`}\n            {pendingSpinner}\n          </li>\n        );\n      });\n\n      return <ul>{displayListItems}</ul>;\n    }\n\n    // If retun value is an object\n    if (typeof displayData === \"object\") {\n      var i = 0;\n      const displayObjectProps: any[] = [];\n\n      Object.keys(displayData).forEach(key => {\n        if (i !== parseInt(key)) {\n          displayObjectProps.push(\n            <li key={i}>\n              <strong>{key}</strong>\n              {pendingSpinner}\n              <br />\n              {`${displayData[key]}`}\n            </li>,\n          );\n        }\n\n        i++;\n      });\n\n      return <ul>{displayObjectProps}</ul>;\n    }\n\n    return (\n      <span>\n        {`${displayData}`}\n        {pendingSpinner}\n      </span>\n    );\n  }\n}\n\n// ContractData.contextTypes = {\n//   drizzle: PropTypes.object,\n// };\n\n/*\n * Export connected component.\n */\n\nconst mapStateToProps = (state: any) => {\n  return {\n    contracts: state.contracts,\n  };\n};\n\nexport default connectTokenId(drizzleConnect(ContractData, mapStateToProps))\n","import React, { createContext, useContext, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\n\nimport axios from 'axios';\n\nexport const UsdPriceContext = createContext<any>('');\nexport const getEtherUsdPrice = async () => {\n  // fetch exchange rate.\n  // https://api.kraken.com/0/public/Ticker?pair=ETHUSD).result.XETHZUSD.c.0\n  const ETHUSD = await axios.get('https://api.kraken.com/0/public/Ticker?pair=ETHUSD');\n  // todo: return -1 if URI request failed\n  if (ETHUSD.hasOwnProperty('data')) {\n    return parseFloat(ETHUSD.data.result.XETHZUSD.c[0]);\n  } else {\n    return -1;\n  }\n}\n\ninterface ProviderProps {\n  children: any//React.Component\n}\n\nexport const UsdPriceProvider: React.FunctionComponent<ProviderProps> = ({ children }) => {\n  const [etherUsdPrice, setEtherUsdPrice] = useState(-1);\n\n  useEffect(() => {\n    // if the price has never been set, try to set it immediately\n    if (etherUsdPrice < 0) {\n      getEtherUsdPrice().then(setEtherUsdPrice)\n    }\n\n    const timer = setInterval(async () => {\n      const newEtherUsdPrice = await getEtherUsdPrice();\n      setEtherUsdPrice(newEtherUsdPrice)\n    }, 3000);\n    return () => clearInterval(timer);\n  }, [etherUsdPrice]);\n\n  return <UsdPriceContext.Provider value={etherUsdPrice}>\n    {children}\n  </UsdPriceContext.Provider>\n};\n\nUsdPriceProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport const useUsdPrice = () => useContext(UsdPriceContext);\n","import { drizzleConnect } from \"drizzle-react\";\nimport React, { Component, Fragment, useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport moment from \"moment\"\nimport { Tooltip } from 'rimble-ui'\nimport ContractData from \"./ContractData\";\nimport Countdown from \"./Countdown\"\nimport { useUsdPrice } from \"./USDPriceContext\"\nimport { connectTokenId } from \"./TokenIdContext\";\n\ndeclare global {\n  interface Window {\n    ethereum: any;\n    initialImageDetails: any;\n    initialImageDetailsLoaded: any\n    rootCdnUrl: any\n  }\n}\n\nwindow.ethereum = window.ethereum || {}\n\ninterface DisplayProps {\n  combinedCollected: string,\n  vitalikPriceEth: string,\n  foreclosureTime: string,\n}\n\nconst nullTime = {\n  years: 0,\n  days: 0,\n  hours: 0,\n  minutes: 0,\n  seconds: 0,\n  millisec: 0,\n}\n\n// const calculateCountdown = (endDate: string) => {\n//   // let diff = (new Date(endDate)).\n//   let diff = (Date.parse((new Date(endDate)).toUTCString()) - Date.parse((new Date()).toUTCString())) / 1000;\n\n//   // clear countdown when date is reached\n//   if (diff <= 0) return nullTime;\n\n//   const timeLeft = nullTime;\n\n//   // calculate time difference between now and expected date\n//   if (diff >= (365.25 * 86400)) { // 365.25 * 24 * 60 * 60\n//     timeLeft.years = Math.floor(diff / (365.25 * 86400));\n//     diff -= timeLeft.years * 365.25 * 86400;\n//   }\n//   if (diff >= 86400) { // 24 * 60 * 60\n//     timeLeft.days = Math.floor(diff / 86400);\n//     diff -= timeLeft.days * 86400;\n//   }\n//   if (diff >= 3600) { // 60 * 60\n//     timeLeft.hours = Math.floor(diff / 3600);\n//     diff -= timeLeft.hours * 3600;\n//   }\n//   if (diff >= 60) {\n//     timeLeft.minutes = Math.floor(diff / 60);\n//     diff -= timeLeft.minutes * 60;\n//   }\n//   timeLeft.seconds = diff;\n\n//   return timeLeft;\n// }\n\n// Functional component for sake of reactHooks...\nconst DisplayComponent: React.FunctionComponent<DisplayProps> = ({ combinedCollected, vitalikPriceEth: vitalikPriceEth, foreclosureTime }) => {\n\n  // const [countDown, setCountdown] = useState(nullTime);\n  const usdPrice = useUsdPrice()\n  const priceOfGorillaInUsd = parseFloat(vitalikPriceEth) * usdPrice\n  const combinedCollectedUsd = parseFloat(combinedCollected) * usdPrice\n\n  // useEffect(() => {\n  //   const date = calculateCountdown(foreclosureTime);\n  //   setCountdown(date);\n  //   const interval = setInterval(() => {\n  //     if (foreclosureTime !== \"N/A\") {\n\n  //       const date = calculateCountdown(foreclosureTime);\n  //       setCountdown(date);\n  //     }\n  //   }, 1000);\n  //   return () => clearTimeout(interval);\n  // }, [foreclosureTime]);\n\n  // const tooltipContent = () =>\n  //   foreclosureTime !== \"N/A\" ?\n  //     <div className=\"section\">\n  //       <p>The deposit for Vitalik will run out on {foreclosureTime}</p>\n  //       <p>Time until deposit runs out in <Countdown countDown={countDown} /></p>\n  //     </div>\n  //     :\n  //     <div className=\"section\">\n  //       <p>Loading deposit info</p>\n  //     </div>\n\n  return (\n    <div className=\"section image-block-text\">\n      {/* <Tooltip message={tooltipContent()}> */}\n      <p>\n        Current Price: <ContractData contract=\"VitalikSteward\" method=\"price\" toEth /> ETH.{priceOfGorillaInUsd > 0 && ` (~ ${priceOfGorillaInUsd.toFixed(2)} USD)`}\n      </p>\n      {/* </Tooltip> */}\n    </div>\n    // <br />\n    // Total Raised: {(parseFloat(combinedCollected) < 0) ? 'LOADING' : parseFloat(combinedCollected).toFixed(7/*7 digits is enough to see the price changing when asset is reasonably priced*/)} ETH.{combinedCollectedUsd > 0 && ` (~ ${combinedCollectedUsd.toFixed(2)} USD)`}\n  )\n}\nclass ActionSection extends Component<{ contracts: any }, {}>  {\n  utils: any\n  contracts: any\n  state: {\n    patronageOwedKey: string\n    totalCollectedKey: string\n    patronageOwed: string\n    combinedCollected: string\n    foreclosureTime: string\n    vitalikPrice: string\n  }\n\n  static contextTypes = {\n    drizzle: PropTypes.object\n  }\n\n  context: any;\n  constructor(props: any, context: any) {\n    super(props, context)\n    this.utils = context.drizzle.web3.utils;\n    this.contracts = context.drizzle.contracts;\n\n    this.getTotalCollected = this.getTotalCollected.bind(this)\n    this.getPatronageOwed = this.getPatronageOwed.bind(this)\n    this.getVitalikPriceEth = this.getVitalikPriceEth.bind(this)\n    const { tokenId } = props\n    this.state = {\n      patronageOwedKey: context.drizzle.contracts.VitalikSteward.methods.patronageOwed.cacheCall(tokenId),\n      totalCollectedKey: context.drizzle.contracts.VitalikSteward.methods.totalCollected.cacheCall(tokenId),\n      patronageOwed: \"-1\",\n      combinedCollected: \"-1\",\n      foreclosureTime: \"N/A\",\n      vitalikPrice: \"-1\",\n    };\n    this.state = {\n      ...this.state,\n      patronageOwed: this.getPatronageOwed(props),\n      // combinedCollected: this.getCombinedCellected(props),\n      vitalikPrice: this.getVitalikPriceEth(props),\n    };\n  }\n\n  getTotalCollected(props: any) {\n    if (props.contracts['VitalikSteward'].initialized && !!props.contracts['VitalikSteward']['totalCollected'][this.state.totalCollectedKey])\n      return new this.utils.BN(props.contracts['VitalikSteward']['totalCollected'][this.state.totalCollectedKey].value);\n\n    return \"-1\"\n  }\n\n\n  getPatronageOwed(props: any) {\n    if (props.contracts['VitalikSteward'].initialized && !!props.contracts['VitalikSteward']['patronageOwed'][this.state.patronageOwedKey])\n      return new this.utils.BN(props.contracts['VitalikSteward']['patronageOwed'][this.state.patronageOwedKey].value);\n\n    return \"-1\"\n  }\n\n  getVitalikPriceEth(props: any) {\n    if (props.contracts['VitalikSteward'].initialized && !!props.contracts['VitalikSteward']['price']['0x0'])\n      return this.utils.fromWei(new this.utils.BN(props.contracts['VitalikSteward']['price']['0x0'].value), 'ether').toString()\n\n    return \"-1\"\n  }\n  // getCombinedCellected(props: any) {\n  //   const patronageOwed = this.getPatronageOwed(props);\n  //   const totalCollected = this.getTotalCollected(props);\n  //   if (patronageOwed !== \"-1\" && totalCollected !== \"-1\")\n  //     return this.utils.fromWei(totalCollected.add(patronageOwed), 'ether').toString();\n\n  //   return \"-1\"\n  // }\n\n  // async updateCombineCollected(props: any) {\n  //   const patronageOwed = this.getPatronageOwed(props);\n  //   const combinedCollected = this.getCombinedCellected(props)\n\n  //   // This is hacky, but just putting this here for now\n  //   const vitalikPrice = this.getVitalikPriceEth(props);\n\n  //   this.setState({\n  //     patronageOwed,\n  //     combinedCollected,\n  //     vitalikPrice,\n  //   });\n  // }\n  // loadComponentData\n\n  async componentWillReceiveProps(nextProps: any) {\n    // if (this.props.contracts['VitalikSteward']['price']['0x0'] !== nextProps.contracts['VitalikSteward']['price']['0x0']) {\n    //   if (nextProps.contracts['VitalikSteward']['price']['0x0'].value === '0') {\n    //     this.setState({\n    //       foreclosureTime: \"N/A\"\n    //     });\n    //   } else {\n    //     const foreclosureTime = moment(parseInt(await this.contracts.VitalikSteward.methods.foreclosureTime().call()) * 1000).toString();\n    //     this.setState({ foreclosureTime });\n    //   }\n    // }\n\n    // if (this.state.patronageOwedKey in this.props.contracts['VitalikSteward']['patronageOwed']\n    //   && this.state.patronageOwedKey in nextProps.contracts['VitalikSteward']['patronageOwed']\n    //   && this.state.totalCollectedKey in this.props.contracts['VitalikSteward']['totalCollected']\n    //   && this.state.totalCollectedKey in nextProps.contracts['VitalikSteward']['totalCollected']) {\n    //   const ownedNow = this.getPatronageOwed(this.props)\n    //   const ownedNext = this.getPatronageOwed(nextProps)\n    //   if (ownedNow === \"-1\" || ownedNext === \"-1\" || !ownedNow.eq(ownedNext) || this.state.combinedCollected === \"-1\") {\n    //     this.updateCombineCollected(nextProps);\n    //   }\n    // }\n  }\n\n  render() {\n    const { combinedCollected, vitalikPrice, foreclosureTime } = this.state\n\n    return (\n      <DisplayComponent {...{ combinedCollected, vitalikPriceEth: vitalikPrice, foreclosureTime }} />\n    )\n  }\n}\n\n/*\n * Export connected component.\n */\n\nconst mapStateToProps = (state: any) => {\n  return {\n    contracts: state.contracts,\n  };\n};\n\nexport default connectTokenId(drizzleConnect(ActionSection, mapStateToProps))\n\n","import { drizzleConnect } from \"drizzle-react\";\nimport React, { Children, Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\n/*\n * Create component.\n */\n\nclass OfflineContainer extends Component {\n  render() {\n    if (this.props.drizzleStatus.initialized) {\n      return Children.only(this.props.children);\n    }\n\n    if (!!this.props.alternateLoader) {\n      return <this.props.alternateLoader />\n    }\n\n    if (this.props.web3.status === \"\") {\n      return (\n        <div className=\"section\">\n          This application is offline. Please ensure you have an Ethereum/web3 enabled browser.\n        </div>\n      )\n    }\n\n    return (\n      <main className=\"container loading-screen\">\n        <div className=\"pure-g\">\n          <div className=\"pure-u-1-1\">\n            <h1>⚙️</h1>\n            <p>Loading dapp...</p>\n          </div>\n        </div>\n      </main>\n    );\n  }\n}\n\n/*\n * Export connected component.\n */\n\nconst mapStateToProps = (state) => {\n  return {\n    accounts: state.accounts,\n    drizzleStatus: state.drizzleStatus,\n    web3: state.web3,\n  };\n};\n\nexport default drizzleConnect(OfflineContainer, mapStateToProps);\n","import { drizzleConnect } from 'drizzle-react';\nimport PropTypes from 'prop-types';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport React, { Component, Fragment } from 'react';\nimport {\n  Button,\n  Modal,\n  Card,\n  Box,\n  Heading,\n  Text,\n  Flex,\n  Loader,\n  Input\n} from 'rimble-ui';\nimport web3ProvideSwitcher from '../web3ProvideSwitcher';\nimport TokenOverview from './TokenOverview';\nimport { connectTokenId } from './TokenIdContext';\n\ninterface state {\n  contractFunctions: any;\n  isOpen: boolean;\n  connectedToInjectedWeb3: boolean;\n  currentTxIndex: number;\n  priceKey: any;\n}\n\nclass BuyModal extends Component<any, any> {\n  contracts: any;\n  utils: any;\n  inputs: any;\n  state: state;\n\n  static contextTypes = {\n    drizzle: PropTypes.object\n  };\n\n  context: any;\n\n  constructor(props: any, context: any) {\n    super(props);\n\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n\n    this.contracts = context.drizzle.contracts;\n    this.utils = context.drizzle.web3.utils;\n\n    // Get the contract ABI, if it is undefined return an empty array\n    const abi = !!this.contracts.VitalikSteward\n      ? this.contracts.VitalikSteward.abi\n      : [];\n\n    this.inputs = [];\n    let contractFunctions: any = {};\n\n    // Iterate over abi for correct function.\n    for (let i = 0; i < abi.length; i++) {\n      if (abi[i].name === 'buy') {\n        this.inputs = abi[i].inputs;\n\n        for (let j = 0; j < this.inputs.length; j++) {\n          contractFunctions[this.inputs[j].name] = '';\n        }\n\n        break;\n      }\n    }\n\n    this.state = {\n      contractFunctions,\n      isOpen: false,\n      connectedToInjectedWeb3: false,\n      currentTxIndex: -1,\n      priceKey: context.drizzle.contracts.VitalikSteward.methods.price.cacheCall(props.tokenId),\n    };\n  }\n\n  handleSubmit(event: any) {\n    event.preventDefault();\n    let args: any = {};\n\n    console.log(this.props.contracts.VitalikSteward['price'][this.state.priceKey].value)\n\n    // todo: if foreclosed, price should default to zero.\n    if (this.state.contractFunctions.value) {\n      const priceKey = this.props.contracts.VitalikSteward['price'][this.state.priceKey]\n      const price = !!priceKey ? (!!priceKey.value ? priceKey.value : 0) : 0\n      const artworkPrice = new this.utils.BN(\n        price\n      );\n      args.value = new this.utils.BN(\n        this.utils.toWei(this.state.contractFunctions.value, 'ether')\n      ).add(artworkPrice);\n    }\n\n    const currentTxIndex = args\n      ? this.contracts.VitalikSteward.methods['buy'].cacheSend(\n        this.props.tokenId,\n        this.utils.toWei(\n          this.state.contractFunctions._newPrice,\n          'ether'\n        ),\n        args\n      )\n      : this.contracts.VitalikSteward.methods['buy'].cacheSend(\n        this.props.tokenId,\n        this.utils.toWei(\n          this.state.contractFunctions._newPrice,\n          'ether'\n        ),\n      );\n\n    this.setState((state: any, props: any) => ({\n      ...state,\n      currentTxIndex\n    }));\n  }\n\n  componentWillReceiveProps(nextProps: any) {\n    const { transactions, transactionStack } = this.props;\n\n    const didTransactionsChange = transactions !== nextProps.transactions;\n    const didTransactionStackChange =\n      transactionStack !== nextProps.transactionStack;\n  }\n\n  handleInputChange(event: any) {\n    this.setState({\n      ...this.state,\n      contractFunctions: {\n        ...this.state.contractFunctions,\n        [event.target.name]: event.target.value\n      }\n    });\n  }\n\n  translateType(type: any) {\n    switch (true) {\n      case /^uint/.test(type):\n        return 'number';\n      case /^string/.test(type) || /^bytes/.test(type):\n        return 'text';\n      case /^bool/.test(type):\n        return 'checkbox';\n      default:\n        return 'text';\n    }\n  }\n\n  closeModal = (e: any) => {\n    e.preventDefault();\n    this.setState((state: any, props: any) => ({\n      ...state,\n      isOpen: false,\n      currentTxIndex: -1\n    }));\n  };\n\n  openModal = async (e: any) => {\n    e.preventDefault();\n    this.setState((state: any, props: any) => ({\n      ...state,\n      isOpen: true,\n      currentTxIndex: -1\n    }));\n\n    const connectedToInjectedWeb3 = await web3ProvideSwitcher.switchToInjectedWeb3();\n\n    this.setState((state: any, props: any) => ({\n      ...state,\n      connectedToInjectedWeb3\n    }));\n  };\n\n  render() {\n    const valueLabel = 'Your Initial Deposit';\n    const { transactions, transactionStack } = this.props;\n    const { currentTxIndex } = this.state;\n    let transactionStatus = 'Submitting transaction to the Ethereum Network.';\n    let txHash = '';\n    let txComplete = false;\n    if (!!transactionStack[this.state.currentTxIndex]) {\n      const tempTxHash = transactionStack[this.state.currentTxIndex];\n      if (!!transactions[tempTxHash]) {\n        txHash = transactionStack[this.state.currentTxIndex];\n        switch (transactions[txHash].status) {\n          case 'pending':\n            transactionStatus =\n              'Transaction being processed by the Ethereum Network.';\n            break;\n          case 'success':\n            txComplete = true;\n            transactionStatus = 'Transaction is complete.';\n            break;\n        }\n      }\n    }\n\n    const transactionProcessing = currentTxIndex !== -1;\n    return (\n      <React.Fragment>\n        <Button mainColor='#7A7A7A' size=\"small\" onClick={this.openModal}>Buy</Button>\n\n        <Modal isOpen={this.state.isOpen}>\n          <Card width={'420px'} p={0}>\n            <Button.Text\n              icononly\n              icon={'Close'}\n              color={'moon-gray'}\n              position={'absolute'}\n              top={0}\n              right={0}\n              mt={3}\n              mr={3}\n              onClick={this.closeModal}\n            />\n            {(!!this.props.accounts[0] || this.state.connectedToInjectedWeb3) ? (\n              <Box p={4} mb={3} i>\n                {transactionProcessing ? (\n                  <Fragment>\n                    <Heading.h3>Processing Transaction</Heading.h3>\n                    <p>{transactionStatus}</p>\n                    {!!txHash && (\n                      <a\n                        href={'https://etherscan.io/tx/' + txHash}\n                        target='_blank'\n                      >\n                        View transaction on Ethersan\n                      </a>\n                    )}\n                    {!txComplete && <Loader color='red' size='80px' />}\n                  </Fragment>\n                ) : (\n                    <Fragment>\n                      <Heading.h3>Purchase</Heading.h3>\n                      <Text>Enter the desired values for the transaction.</Text>\n                      <form\n                        className='pure-form pure-form-stacked'\n                        onSubmit={this.handleSubmit}\n                      >\n                        <Input\n                          key='_newPrice'\n                          type='number'\n                          name='_newPrice'\n                          value={this.state.contractFunctions['_newPrice']}\n                          placeholder={'Your Initial Sale Price'}\n                          onChange={this.handleInputChange}\n                          style={{ width: '100%' }}\n                          startAdornment={\n                            <InputAdornment position='start'>ETH</InputAdornment>\n                          }\n                        />\n                        <Fragment>\n                          <br />\n                          <Input\n                            key={valueLabel}\n                            type='number'\n                            name='value'\n                            value={this.state.contractFunctions[valueLabel]}\n                            placeholder={valueLabel}\n                            onChange={this.handleInputChange}\n                            style={{ width: '100%' }}\n                            startAdornment={\n                              <InputAdornment position='start'>\n                                ETH\n                            </InputAdornment>\n                            }\n                          />\n                          <br />\n                          <br />\n                        </Fragment>\n                      </form>\n                      <TokenOverview />\n                    </Fragment>\n                  )}\n              </Box>\n            ) : (\n                <Box p={4} mb={3}>\n                  <Heading.h3>NOTICE</Heading.h3>\n                  <Text>\n                    Unable to connect to metamask, so unable to sign transactions.\n                </Text>\n                </Box>)\n            }\n            {(!transactionProcessing) && <Flex px={4} py={3} borderTop={1} borderColor={'#E8E8E8'} justifyContent={'flex-end'}>\n              {/* <Button.Outline>Cancel</Button.Outline> In the future this could be for resetting the values or something*/}\n              <Button\n                mainColor='#7A7A7A' size=\"small\"\n                ml={3}\n                onClick={this.handleSubmit}\n              >Purchase this ad space</Button>\n            </Flex>}\n          </Card>\n        </Modal>\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = (state: any) => {\n  return {\n    contracts: state.contracts,\n    transactions: state.transactions,\n    transactionStack: state.transactionStack,\n    accounts: state.accounts\n  };\n};\n\nexport default connectTokenId(drizzleConnect(BuyModal, mapStateToProps))\n","import { drizzleConnect } from \"drizzle-react\";\nimport PropTypes from \"prop-types\";\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport React, { Component, Fragment } from \"react\";\nimport { Button, Modal, Card, Box, Heading, Text, Flex, Loader, Input, Radio } from 'rimble-ui'\nimport web3ProvideSwitcher from \"../web3ProvideSwitcher\"\nimport TokenOverview from \"./TokenOverview\"\nimport moment from 'moment'\nimport { useTokenId, connectTokenId } from \"./TokenIdContext\";\nimport UploadImage from './UploadImage'\n\nenum ModalState {\n  Deposit,\n  Price,\n  Closed,\n  UploadImage,\n  updateWebsiteUrl\n}\n\ninterface state {\n  contractFunctions: any,\n  modalState: ModalState,\n  connectedToInjectedWeb3: boolean,\n  currentTxIndex: number,\n  depositState: boolean,\n  depositAvailable: any,\n  balance: number,\n  updateUrl: string\n}\n\nclass BuyModal extends Component<any, any> {\n  contracts: any\n  utils: any\n  inputs: any\n  state: state\n  drizzle: any\n\n  // Note, context is used to get the full drizzle object. This is slightly hacky, we should be able to do this with the drizzleConnect component only.\n  static contextTypes = {\n    drizzle: PropTypes.object\n  }\n\n  context: any;\n\n  constructor(props: any, context: any) {\n    super(props);\n\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n\n    this.contracts = context.drizzle.contracts;\n    this.utils = context.drizzle.web3.utils;\n    this.drizzle = context.drizzle\n\n    // Get the contract ABI, if it is undefined return an empty array\n    const abi = (!!this.contracts.VitalikSteward) ? this.contracts.VitalikSteward.abi : [];\n\n    this.inputs = [];\n    let contractFunctions: any = {};\n\n    this.state = {\n      contractFunctions,\n      modalState: ModalState.Closed,\n      connectedToInjectedWeb3: false,\n      currentTxIndex: -1,\n      depositState: true,\n      depositAvailable: '',\n      updateUrl: '',\n      balance: -1,\n    };\n  }\n\n\n  updateImageHashOnSmartContract = (imageHash: string) => {\n    let currentTxIndex: number\n    if (this.state.modalState === ModalState.UploadImage) {\n      currentTxIndex = this.contracts.VitalikSteward.methods[\n        'changeImage'\n      ].cacheSend(this.props.tokenId, imageHash)\n    }\n\n    this.setState((state: any, props: any) => ({\n      ...state,\n      currentTxIndex\n    }))\n  }\n\n  handleSubmitOfWebsite = (event: any) => {\n    event.preventDefault();\n    let inputValue = this.state.updateUrl\n    let currentTxIndex: any\n    // if(this.state.modalState === ModalState.updateWebsiteUrl){\n    currentTxIndex = this.contracts.VitalikSteward.methods[\n      'changeUrl'\n    ].cacheSend(this.props.tokenId, inputValue)\n    // }\n    this.setState((state: any, props: any) => ({\n      ...state,\n      currentTxIndex\n    }))\n  }\n\n  handleSubmit(event: any) {\n    event.preventDefault();\n    let inputValueRawMaybe = this.state.contractFunctions['newSettingValue'] // all number fields are ETH  fields.\n    let inputValueRaw = !!inputValueRawMaybe ? inputValueRawMaybe : 0\n    let inputValue = this.utils.toWei(inputValueRaw, 'ether'); // all number fields are ETH  fields.\n    let currentTxIndex: number\n    if (this.state.modalState === ModalState.Deposit) {\n      const contractFunction = this.state.depositState ? 'depositWei' : 'withdrawDeposit'\n      currentTxIndex = this.contracts.VitalikSteward.methods[\n        contractFunction\n      ].cacheSend(this.props.tokenId, { value: inputValue })\n    } else if (this.state.modalState === ModalState.Price) {\n      currentTxIndex = this.contracts.VitalikSteward.methods[\n        'changePrice'\n      ].cacheSend(this.props.tokenId, inputValue)\n    }\n    else if (this.state.modalState === ModalState.updateWebsiteUrl) {\n      currentTxIndex = this.contracts.VitalikSteward.methods[\n        'changeUrl'\n      ].cacheSend(this.props.tokenId, inputValue)\n    }\n    // else if(this.state.modalState === ModalState.UploadImage){\n    //   currentTxIndex = this.contracts.VitalikSteward.methods[\n    //     'changeImage'\n    //   ].cacheSend(this.props.tokenId, inputValue)\n    // }\n\n    this.setState((state: any, props: any) => ({\n      ...state,\n      currentTxIndex\n    }))\n  }\n\n  componentWillReceiveProps(nextProps: any) {\n    const { transactions, transactionStack, tokenId } = this.props;\n\n    // const didTransactionsChange = transactions !== nextProps.transactions;\n    // const didTransactionStackChange = transactionStack !== nextProps.transactionStack;\n\n    const depositKey = this.context.drizzle.contracts.VitalikSteward.methods.depositAbleToWithdraw.cacheCall(tokenId)\n    const depositObj = nextProps.contracts.VitalikSteward.depositAbleToWithdraw[depositKey]\n\n    if (!!depositObj && !!depositObj.value) {\n      const depositAvailable = this.utils.fromWei(depositObj.value, 'ether')\n      if (this.state.depositAvailable !== depositAvailable) {\n        this.setState({\n          ...this.state,\n          depositAvailable\n        })\n      }\n    }\n\n    if (!!depositObj && !!depositObj.value) {\n      const depositAvailable = this.utils.fromWei(depositObj.value, 'ether')\n      if (this.state.depositAvailable !== depositAvailable) {\n        this.setState({\n          ...this.state,\n          depositAvailable\n        })\n      }\n    }\n    if (!!this.props.accounts && !!this.props.accounts[0]) {\n      this.drizzle.web3.eth.getBalance(this.props.accounts[0]).then((balance: number) => {\n        this.setState({\n          ...this.state,\n          balance\n        })\n      })\n    }\n  }\n\n  handleWebsiteInputChange = (event: any) => {\n    this.setState({\n      ...this.state,\n      updateUrl: event.target.value\n    })\n  }\n\n  handleInputChange(event: any) {\n    this.setState({\n      ...this.state,\n      contractFunctions: {\n        ...this.state.contractFunctions, [event.target.name]: event.target.value\n      }\n    })\n  }\n\n\n\n  translateType(type: any) {\n    switch (true) {\n      case /^uint/.test(type):\n        return \"number\";\n      case /^string/.test(type) || /^bytes/.test(type):\n        return \"text\";\n      case /^bool/.test(type):\n        return \"checkbox\";\n      default:\n        return \"text\";\n    }\n  }\n\n  closeModal = (e: any) => {\n    e.preventDefault()\n    this.setState((state: any, props: any) => ({\n      ...state,\n      modalState: ModalState.Closed,\n      currentTxIndex: -1,\n    }))\n  }\n\n  setDepositWithdrawToggle = (depositState: boolean) => {\n    this.setState((state: any, props: any) => ({\n      ...state,\n      depositState,\n    }))\n  }\n\n  openModal = async (modalState: ModalState) => {\n    this.setState((state: any, props: any) => ({\n      ...state,\n      modalState,\n      currentTxIndex: -1,\n    }))\n\n    const connectedToInjectedWeb3 = await web3ProvideSwitcher.switchToInjectedWeb3()\n\n    this.setState((state: any, props: any) => ({\n      ...state,\n      connectedToInjectedWeb3,\n    }))\n  }\n\n  render() {\n    // const valueLabel = \"Your Initial Deposit\";\n    const { transactions, transactionStack } = this.props\n    const { currentTxIndex } = this.state\n    let transactionStatus = 'Submitting transaction to the Ethereum Network.'\n    let txHash = ''\n    let txComplete = false\n    if (!!transactionStack[this.state.currentTxIndex]) {\n      const tempTxHash = transactionStack[this.state.currentTxIndex]\n      if (!!transactions[tempTxHash]) {\n        txHash = transactionStack[this.state.currentTxIndex]\n        switch (transactions[txHash].status) {\n          case 'pending':\n            transactionStatus = 'Transaction being processed by the Ethereum Network.'\n            break\n          case 'success':\n            txComplete = true\n            transactionStatus = 'Transaction is complete.'\n            break\n        }\n      }\n    }\n\n    const transactionProcessing = currentTxIndex !== -1\n\n    return (\n      <React.Fragment>\n        <Button style={{ width: '100%' }} mainColor='#7A7A7A' size=\"small\" onClick={() => this.openModal(ModalState.Price)} > Update Price</Button>\n        &ensp;\n        <Button style={{ width: '100%' }} mainColor='#7A7A7A' size=\"small\" onClick={() => this.openModal(ModalState.Deposit)} > Add/Remove Deposit</Button>\n        &ensp;\n        <Button style={{ width: '100%' }} mainColor='#7A7A7A' size=\"small\" onClick={() => this.openModal(ModalState.UploadImage)} > Upload Image</Button>\n        &ensp;\n        <Button style={{ width: '100%' }} mainColor='#7A7A7A' size=\"small\" onClick={() => this.openModal(ModalState.updateWebsiteUrl)} > Update Website</Button>\n        <div style={{ position: 'absolute', top: '1000' }}>\n          <Modal isOpen={this.state.modalState === ModalState.Price}>\n            <Card width={'420px'} p={0}>\n              <Button.Text\n                icononly\n                icon={'Close'}\n                color={'moon-gray'}\n                position={'absolute'}\n                top={0}\n                right={0}\n                mt={3}\n                mr={3}\n                onClick={this.closeModal}\n              />\n              {(!!this.props.accounts[0] || this.state.connectedToInjectedWeb3) ?\n\n                <Box p={4} mb={3}>{\n                  transactionProcessing ?\n                    <Fragment>\n                      <Heading.h3>Processing Transaction</Heading.h3>\n                      <p>{transactionStatus}</p>\n                      {!!txHash && <a href={'https://etherscan.io/tx/' + txHash} target=\"_blank\">View transaction on Ethersan</a>}\n                      {!txComplete && <Loader color=\"red\" size=\"80px\" />}\n                    </Fragment>\n                    :\n                    <Fragment>\n                      <Heading.h3>Price</Heading.h3>\n                      <Text>\n                        How much would you like to receive from selling Vitalik?\n                    </Text>\n                      <form className=\"pure-form pure-form-stacked\" onSubmit={this.handleSubmit}>\n                        <Input\n                          key='newSettingValue'\n                          type='number'\n                          name='newSettingValue'\n                          value={this.state.contractFunctions['newSettingValue'] || 0}\n                          placeholder={`Price`}\n                          onChange={this.handleInputChange}\n                          style={{ width: '100%' }}\n                          startAdornment={<InputAdornment position=\"start\">ETH</InputAdornment>}\n                        />\n                        <br />\n                      </form>\n                      <TokenOverview />\n                    </Fragment>}\n                </Box>\n                :\n                <Box p={4} mb={3}>\n                  <Heading.h3>NOTICE</Heading.h3>\n                  <Text>\n                    Unable to connect to metamask, so unable to sign transactions.\n                </Text>\n                </Box>\n              }\n              {(!transactionProcessing) && <Flex px={4} py={3} borderTop={1} borderColor={'#E8E8E8'} justifyContent={'flex-end'}>\n                {/* <Button.Outline>Cancel</Button.Outline> In the future this could be for resetting the values or something*/}\n                <Button\n                  mainColor='#7A7A7A' size=\"small\"\n                  ml={3}\n                  onClick={this.handleSubmit}\n                >Update</Button>\n              </Flex>}\n            </Card>\n          </Modal>\n        </div>\n        <Modal isOpen={this.state.modalState === ModalState.Deposit}>\n          <Card width={'420px'} p={0}>\n            <Button.Text\n              icononly\n              icon={'Close'}\n              color={'moon-gray'}\n              position={'absolute'}\n              top={0}\n              right={0}\n              mt={3}\n              mr={3}\n              onClick={this.closeModal}\n            />\n            {(!!this.props.accounts[0] || this.state.connectedToInjectedWeb3) ?\n\n              <Box p={4} mb={3}>{\n                transactionProcessing ?\n                  <Fragment>\n                    <Heading.h3>Processing Transaction</Heading.h3>\n                    <p>{transactionStatus}</p>\n                    {!!txHash && <a href={'https://etherscan.io/tx/' + txHash} target=\"_blank\">View transaction on Ethersan</a>}\n                    {!txComplete && <Loader color=\"red\" size=\"80px\" />}\n                  </Fragment>\n                  :\n                  <Fragment>\n                    <Heading.h3>Deposit</Heading.h3>\n                    <Text>\n                      How do you want to change your deposit?\n                    </Text>\n                    <Radio checked={this.state.depositState} onChange={() => this.setDepositWithdrawToggle(true)} label=\"Deposit\" my={2} />\n                    <Radio checked={!this.state.depositState} onChange={() => this.setDepositWithdrawToggle(false)} label=\"Withdrawl\" my={2} />\n                    <form className=\"pure-form pure-form-stacked\" onSubmit={this.handleSubmit}>\n                      <Input\n                        key='newSettingValue'\n                        type='number'\n                        name='newSettingValue'\n                        value={this.state.contractFunctions['newSettingValue'] || 0}\n                        placeholder={`Amount to ${this.state.depositState ? 'add' : 'remove'}`}\n                        onChange={this.handleInputChange}\n                        style={{ width: '100%' }}\n                        startAdornment={<InputAdornment position=\"start\">ETH</InputAdornment>}\n                      />\n                      <br />\n                    </form>\n                    <TokenOverview />\n                  </Fragment>}\n              </Box>\n              :\n              <Box p={4} mb={3}>\n                <Heading.h3>NOTICE</Heading.h3>\n                <Text>\n                  Unable to connect to metamask, so unable to sign transactions.\n                </Text>\n              </Box>\n            }\n            {(!transactionProcessing) && <Flex px={4} py={3} borderTop={1} borderColor={'#E8E8E8'} justifyContent={'flex-end'}>\n              {/* <Button.Outline>Cancel</Button.Outline> In the future this could be for resetting the values or something*/}\n              <Button\n                mainColor='#7A7A7A' size=\"small\"\n                ml={3}\n                onClick={this.handleSubmit}\n              >{this.state.depositState ? 'Add' : 'Withdraw'}</Button>\n            </Flex>}\n          </Card>\n        </Modal>\n        <Modal isOpen={this.state.modalState === ModalState.UploadImage}>\n          <Card width={'420px'} p={0}>\n            <Button.Text\n              icononly\n              icon={'Close'}\n              color={'moon-gray'}\n              position={'absolute'}\n              top={0}\n              right={0}\n              mt={3}\n              mr={3}\n              onClick={this.closeModal}\n            />\n            {(!!this.props.accounts[0] || this.state.connectedToInjectedWeb3) ?\n\n              <Box p={4} mb={3}>{\n                transactionProcessing ?\n                  <Fragment>\n                    <Heading.h3>Processing Transaction</Heading.h3>\n                    <p>{transactionStatus}</p>\n                    {!!txHash && <a href={'https://etherscan.io/tx/' + txHash} target=\"_blank\">View transaction on Ethersan</a>}\n                    {!txComplete && <Loader color=\"red\" size=\"80px\" />}\n                  </Fragment>\n                  :\n                  <Fragment>\n                    <Heading.h3>Upload Image</Heading.h3>\n                    <Text>\n                      We recommend an optimal image dimesions of 300 x 300 pixels\n                    </Text>\n                    <form className=\"pure-form pure-form-stacked\">\n                      <UploadImage updateImageHashOnSmartContract={this.updateImageHashOnSmartContract} />\n                      <br />\n                    </form>\n                    <Text>Please be patient, uploading the image can take some time.</Text>\n                    <TokenOverview />\n                  </Fragment>}\n              </Box>\n              :\n              <Box p={4} mb={3}>\n                <Heading.h3>NOTICE</Heading.h3>\n                <Text>\n                  Unable to connect to metamask, so unable to sign transactions.\n                </Text>\n              </Box>\n            }\n          </Card>\n        </Modal>\n        <Modal isOpen={this.state.modalState === ModalState.updateWebsiteUrl}>\n          <Card width={'420px'} p={0}>\n            <Button.Text\n              icononly\n              icon={'Close'}\n              color={'moon-gray'}\n              position={'absolute'}\n              top={0}\n              right={0}\n              mt={3}\n              mr={3}\n              onClick={this.closeModal}\n            />\n            {(!!this.props.accounts[0] || this.state.connectedToInjectedWeb3) ?\n\n              <Box p={4} mb={3}>{\n                transactionProcessing ?\n                  <Fragment>\n                    <Heading.h3>Processing Transaction</Heading.h3>\n                    <p>{transactionStatus}</p>\n                    {!!txHash && <a href={'https://etherscan.io/tx/' + txHash} target=\"_blank\">View transaction on Ethersan</a>}\n                    {!txComplete && <Loader color=\"red\" size=\"80px\" />}\n                  </Fragment>\n                  :\n                  <Fragment>\n                    <Heading.h3>Update website url</Heading.h3>\n                    <Text>\n                      Don't forget to add http or https at the beginning\n                    </Text>\n                    <form className=\"pure-form pure-form-stacked\" onSubmit={this.handleSubmitOfWebsite}>\n                      <Input\n                        key='updateUrl'\n                        type='text'\n                        name='updateUrl'\n                        value={this.state.updateUrl || ''}\n                        // value={this.state.contractFunctions['newSettingValue'] || ''}\n                        // placeholder={`Amount to ${this.state.depositState ? 'add' : 'remove'}`}\n                        onChange={this.handleWebsiteInputChange}\n                        style={{ width: '100%' }}\n                      // startAdornment={<InputAdornment position=\"start\">ETH</InputAdornment>}\n                      />\n                      <br />\n                    </form>\n                    <TokenOverview />\n                  </Fragment>}\n              </Box>\n              :\n              <Box p={4} mb={3}>\n                <Heading.h3>NOTICE</Heading.h3>\n                <Text>\n                  Unable to connect to metamask, so unable to sign transactions.\n                </Text>\n              </Box>\n            }\n            {(!transactionProcessing) && <Flex px={4} py={3} borderTop={1} borderColor={'#E8E8E8'} justifyContent={'flex-end'}>\n              {/* <Button.Outline>Cancel</Button.Outline> In the future this could be for resetting the values or something*/}\n              <Button\n                mainColor='#7A7A7A' size=\"small\"\n                ml={3}\n                onClick={this.handleSubmitOfWebsite}\n              >Update Website Url</Button>\n            </Flex>}\n          </Card>\n        </Modal>\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = (state: any) => {\n  return {\n    contracts: state.contracts,\n    transactions: state.transactions,\n    transactionStack: state.transactionStack,\n    accounts: state.accounts,\n  }\n}\n\nexport default connectTokenId(drizzleConnect(BuyModal, mapStateToProps))\n","import React, { useState, useRef } from 'react';\nimport { Buffer } from 'ipfs'\n// import { useAsyncFn } from 'react-use'\nimport { ToastMessage, Progress } from 'rimble-ui'\n\nconst UploadProgress = ({ image, uploadProgress: { progress, done } }) => {\n  const progPercent = (progress / image.ipfsDagSize) * 100\n  return <div>\n    {done ?\n      <h1>Upload Complete{/* This should never be seen... */}</h1>\n      :\n      <div>\n        {progPercent < 98 /*98 is a random number it must jus be quite high so this condition only triggers when waiting for ipfs at the end */ ?\n          <div>\n            <ToastMessage.Processing my={0} message={<div>\n              <Progress value={progPercent} />\n              <p>Uploading to IPFS</p>\n            </div>} />\n          </div>\n          :\n          <div>\n            <ToastMessage.Processing my={0} message={\"Verifying upload on IPFS\"} />\n          </div>\n        }\n      </div>\n    }\n  </div>\n}\nconst UploadImage = ({ updateImageHashOnSmartContract }) => {\n\n  const [currentImage, setCurrentImage] = useState({ data: null, name: null, size: 0, ipfsDagSize: 0 })\n  const progressRef = useRef(0)\n\n  const handleChangeImage = (evt) => {\n    console.log(\"Uploading\");\n    var reader = new FileReader();\n    var file = evt.target.files[0];\n    const size = file.size\n    const ipfsApproxDagSize = size * 1.335 // NOTE: This is a rough, and slight over estimate, will need to be calculated to be precise.\n\n    console.log({ target: evt.target })\n\n    reader.onload = async (upload) => {\n      const data = upload.target.result\n      setCurrentImage({ data, size, ipfsDagSize: ipfsApproxDagSize });\n\n      const result = await window.ipfsNode.add(\n        Buffer.from(data),\n        {\n          progress: progress => progressRef.current = { progress, done: false },\n          pin: false, // Note: if all were good in the world this would be true, problem is that this is extremely slow and not user friendly!\n        },\n      )\n      const ipfsHash = result[0].hash\n      progressRef.current = { progress: ipfsApproxDagSize, done: true, ipfsHash }\n      updateImageHashOnSmartContract(ipfsHash)\n      // Try to pin the hash in the background!\n      const pinResult = await window.ipfsNode.pin.add(ipfsHash)\n    };\n    reader.readAsDataURL(file);\n  }\n\n  return (\n    <div>\n\n      {(!!currentImage.data) ?\n        <UploadProgress image={currentImage} uploadProgress={progressRef.current}></UploadProgress>\n        :\n        <input\n          type=\"file\" name=\"file\"\n          className=\"upload-file\"\n          id=\"file\"\n          onChange={handleChangeImage}\n          encType=\"multipart/form-data\"\n          required\n        />\n      }\n    </div>\n  )\n}\n\nexport default UploadImage\n","import React, { Component, Fragment } from 'react';\nimport TokenOverview from './TokenOverview';\nimport OfflineContainer from './Offline';\nimport BuyModal from './BuyModal';\nimport UpdateModal from './UpdateModal';\nimport { drizzleConnect } from 'drizzle-react';\nimport PropTypes from 'prop-types';\nimport web3ProvideSwitcher from '../web3ProvideSwitcher';\nimport { UsdPriceProvider } from './USDPriceContext';\nimport { connectTokenId } from './TokenIdContext';\nimport { timeout } from 'q';\n\nconst alternateBasicImage = (index: number) => () =>\n  <div className='image-container'>\n    {window.initialImageDetailsLoaded &&\n      <a href={`${window.initialImageDetails.urls[index]}?ref=alwaysforsale`}>\n        <img\n          src={window.rootCdnUrl + window.initialImageDetails.images[index]}\n          style={{ width: '100%' }}\n        />\n      </a>\n    }\n  </div>\n\nclass Dapp extends Component<any, any> {\n  contracts: any;\n  utils: any;\n  inputs: any;\n  state: any;\n\n  static contextTypes = {\n    drizzle: PropTypes.object\n  };\n\n  context: any;\n\n  constructor(props: any, context: any) {\n    super(props);\n    // const tokenId = 0;\n    // console.log(context.drizzle.contracts.VitalikSteward.methods.hashes.);\n    //console.log(context.drizzle.contracts['VitalikSteward']['hashes']['0x0']);\n    this.contracts = context.drizzle.contracts;\n    this.utils = context.drizzle.web3.utils;\n    this.context = context;\n\n\n    this.state = {\n      tokenOwner: '',\n      hasheKey: context.drizzle.contracts.VitalikSteward.methods.hashes.cacheCall(props.tokenId),\n      urlKey: context.drizzle.contracts.VitalikSteward.methods.urls.cacheCall(props.tokenId),\n      hashe: null,\n      base64Image: '',\n      websiteUrl: '',\n      totalMonthRevenue: '',\n      hasStartedLoadingIpfsImage: false,\n    };\n  }\n\n  getBase64Image = (hash: any) => {\n    if (this.props.ifpsIsLoade) {\n      return\n    }\n    this.setState({\n      ...this.state,\n      hasStartedLoadingIpfsImage: true\n    })\n\n    window.ipfsNode.cat(hash, (err: any, data: any) => {\n      if (err) return console.error(err);\n\n      // convert Buffer back to string\n      this.setState({\n        ...this.state,\n        base64Image: data.toString()\n      });\n    })\n  };\n\n  calcTotalMonthRevenue = (ad1: number, ad2: number, ad3: number) => {\n    this.setState({ totalMonthRevenue: (ad1 + ad2 + ad3) })\n  }\n\n  async componentWillReceiveProps(nextProps: any) {\n\n    if (this.state.urlKey in this.props.contracts['VitalikSteward']['urls'] &&\n      this.state.urlKey in nextProps.contracts['VitalikSteward']['urls']\n    ) {\n      const urlNext =\n        nextProps.contracts['VitalikSteward']['urls'][\n          this.state.urlKey\n        ].value;\n\n      if (this.state.websiteUrl !== urlNext) {\n        this.setState({ ...this.state, websiteUrl: urlNext })\n      }\n    }\n\n    if (\n      this.state.hasheKey in\n      this.props.contracts['VitalikSteward']['hashes'] &&\n      this.state.hasheKey in\n      nextProps.contracts['VitalikSteward']['hashes']\n    ) {\n      const hashNext =\n        nextProps.contracts['VitalikSteward']['hashes'][\n          this.state.hasheKey\n        ].value;\n\n      if (this.state.hash !== hashNext) {\n        this.getBase64Image(hashNext)\n        this.setState({ ...this.state, hash: hashNext })\n      } else if (this.state.hasStartedLoadingIpfsImage) {\n        this.getBase64Image(hashNext)\n      }\n    }\n    // });\n    // this.setState({ ...this.state, hashes: newHashes });\n    const { tokenId } = nextProps;\n    const tokenOwnerKey = this.context.drizzle.contracts.ERC721Full.methods.ownerOf.cacheCall(\n      tokenId\n    );\n    const tokenOwnerObj =\n      nextProps.contracts['ERC721Full']['ownerOf'][tokenOwnerKey];\n\n    if (\n      !!tokenOwnerObj &&\n      !!tokenOwnerObj.value &&\n      this.state.tokenOwner !== tokenOwnerObj.value\n    ) {\n      this.setState({\n        ...this.state,\n        tokenOwner: tokenOwnerObj.value\n      });\n    }\n  }\n\n  render() {\n    const { tokenOwner } = this.state;\n    const { accounts, tokenId } = this.props;\n    const showDapp = web3ProvideSwitcher.providerInjected;\n    const isTokenOwner = tokenOwner === accounts[0];\n    const displayPreloadedImages = window.initialImageDetailsLoaded\n    const displayImage = !!this.state.base64Image || displayPreloadedImages\n    const imageUrl =\n      !!this.state.base64Image ?\n        this.state.base64Image\n        : window.initialImageDetailsLoaded ?\n          window.rootCdnUrl + window.initialImageDetails.images[tokenId] : ''\n    const adLink = !!this.state.websiteUrl ? this.state.websiteUrl : displayPreloadedImages ? window.initialImageDetails.urls[tokenId] : ''\n\n    return (\n      <Fragment>\n        <OfflineContainer\n          alternateLoader={alternateBasicImage(tokenId)}>\n          <div className='image-container'>\n            <a href={`${adLink}?ref=alwaysforsale`}>\n              {displayImage && ( //TODO undefined\n                <img\n                  src={imageUrl}\n                  style={{ width: '100%' }}\n                />\n              )}\n            </a>\n            {this.props.displayPurchase && (\n              <div className='interaction-button-container'>\n                <div className='interaction-buttons'>\n                  {isTokenOwner ? (\n                    <div>\n                      <Fragment>\n                        <UpdateModal />\n                        {/* <TokenOverview /> */}\n                      </Fragment>\n                    </div>\n                  ) : (\n                      <div>\n                        {showDapp ? (\n                          <BuyModal />\n                        ) : (\n                            <h3\n                              style={{\n                                margin: 0,\n                                color: '#6bad3e',\n                                padding: '0.8rem 1.2rem',\n                                display: 'inline-block'\n                              }}\n                            >\n                              Install <a href='https://metamask.io'>Metamask</a> to\n                              buy this ad space.\n                          {/* TODO: test if this is moblie and recommend a web3 app for android/iphone (eg trust-wallet)*/}\n                            </h3>\n                          )}\n                        <TokenOverview />\n                      </div>\n                    )}\n                </div>\n              </div>\n            )}\n          </div>\n        </OfflineContainer>\n      </Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = (state: any) => {\n  return {\n    contracts: state.contracts,\n    accounts: state.accounts\n  };\n};\n\nconst DappConnected = connectTokenId(drizzleConnect(Dapp, mapStateToProps));\n\nclass DappWrapper extends Component<any, any> {\n  constructor(props: any, context: any) {\n    super(props);\n  }\n\n  render() {\n    return (\n      // <UsdPriceProvider>\n      <OfflineContainer alternateLoader={alternateBasicImage(this.props.tokenId)}>\n        <DappConnected displayPurchase={this.props.displayPurchase} tokenId={this.props.tokenId} />\n      </OfflineContainer>\n      // </UsdPriceProvider>\n    );\n  }\n}\n\nexport default DappWrapper;\n","import React, { Fragment } from 'react';\nimport { Modal, Button, Card, Box, Flex } from 'rimble-ui';\n\n\nclass About extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isOpen: false\n        };\n        this.closeModal = this.closeModal.bind(this);\n        this.openModal = this.openModal.bind(this);\n    }\n\n    closeModal(e) {\n        e.preventDefault();\n        this.setState((state, props) => ({\n            isOpen: false\n        }));\n    }\n\n    openModal(e) {\n        e.preventDefault();\n        this.setState((state, props) => ({\n            isOpen: true\n        }));\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                <Button onClick={this.openModal} mainColor='#7A7A7A' size=\"small\" className='information-button'>About</Button>\n\n                <Modal isOpen={this.state.isOpen} style={{transform: 'translate(0, -1000px)'}} className='test'>\n                    <Card width={\"60vw\"} p={0}>\n                        <Button.Text\n                            icononly\n                            icon={\"Close\"}\n                            color={\"moon-gray\"}\n                            position={\"absolute\"}\n                            top={0}\n                            right={0}\n                            mt={3}\n                            mr={3}\n                            onClick={this.closeModal}\n                        />\n\n                        <Box p={4} mb={3} className='scrollable-content'>\n                            <Fragment>\n                                <h1>About our always for sale adspace</h1>\n                                <p>\n                                    This project was created at the #ETHIndia2019 hackathon. The purpose of the project is two fold:\n      </p>\n                                <p>\n                                    1. To generate funds for wildlife conservation. How? We created a\n                                    project called wildcards.world at the #ETHCapeTown2019 hackathon to\n                                    raise funds for wildlife conservation. Subsequently, we were accepted into a\n                                    6 month blockchain incubator in Paris to accelerate the developement of\n                                    this platform. The funds generated from our #ETHIndia 'always for sale\n                                    adspace' will provide funding for us to develop our <a href='https://wildcards.world'>wildcards</a> project and\n                                    hence raise funds for conservation efforts.\n      </p>\n                                <p>\n                                    2. This project is a continued social experiment to understand how\n                                    always for sale adspace might behave in a viral marketplace. Many of you\n                may be familiar with the <a href='http://www.milliondollarhomepage.com'>milliondollarhomepage</a> and how this simple\n                                    project sold a million pixels at a dollar each. This rather aims at scarcity and introduces a very interesting concept\n                                    where each piece of marketing real estate will be always for sale,\n                                    forever.\n      </p>\n                                <p>\n                                    The success of this project will allow us to provide always for sale\n                                    plugin marketing solutions to other companies and continue to fund the\n                                    developement of wildcards - the exploration of sustainable solutions\n                                    using an always for sale mechanic.\n      </p>\n                                <p>\n                                    Join our <a href='https://t.me/wildcardsworld'>telegram</a> <br/> \n                                    Email us to chat:&nbsp;\n                                    <a href='jonjon@wildcards.world'>jonjon@wildcards.world</a>\n      </p>\n                                <p>Made by Denham Preen, JonJon Clark and Jason Smythe</p>\n                                <p>Version: 1.0.1</p>\n                            </Fragment>\n                        </Box>\n\n                        <Flex\n                            px={4}\n                            py={3}\n                            borderTop={1}\n                            borderColor={\"#E8E8E8\"}\n                            justifyContent={\"flex-end\"}\n                        >\n                            <Button.Outline onClick={this.closeModal} mainColor='#7A7A7A' size=\"small\">Close</Button.Outline>\n                        </Flex>\n                    </Card>\n                </Modal>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default About;\n","import React, { Fragment } from 'react';\nimport { Modal, Button, Card, Box, Flex } from 'rimble-ui';\n\nclass HowItWorks extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpen: false\n    };\n    this.closeModal = this.closeModal.bind(this);\n    this.openModal = this.openModal.bind(this);\n  }\n\n  closeModal(e) {\n    e.preventDefault();\n    this.setState((state, props) => ({\n      isOpen: false\n    }));\n  }\n\n  openModal(e) {\n    e.preventDefault();\n    this.setState((state, props) => ({\n      isOpen: true\n    }));\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <Button onClick={this.openModal} mainColor='#7A7A7A' size=\"small\">How it works?</Button>\n\n        <Modal isOpen={this.state.isOpen}>\n          <Card width={'60vw'} p={0}>\n            <Button.Text\n              icononly\n              icon={'Close'}\n              color={'moon-gray'}\n              position={'absolute'}\n              top={0}\n              right={0}\n              mt={3}\n              mr={3}\n              onClick={this.closeModal}\n            />\n\n            <Box p={4} mb={3} className='scrollable-content'>\n              <Fragment>\n                <h1>How it works?</h1>\n                <p>\n                  1. Log onto our website and a grid showing all 3 advertising\n                  blocks will be displayed.\n                </p>\n                <p>2. All 3 of these blocks will be always on sale… forever.</p>\n                <p>\n                  3. Simply click buy on the block you would like to purchase\n                  (you will need metamask and small amount of ether):\n                </p>\n                <p>\n                  4. Set the the selling price for your block (this allows our\n                  blocks to be always for sale. If you set the selling price at\n                  say 2 ETH, you will receive 2 ETH if someone buys this block\n                  from you - making money while advertising, pretty neat right?)\n                </p>\n                <p>\n                  5. Add a deposit in ETH to pay for owning the space. If you\n                  set the selling price at 2 ETH, you will have to pay 2 ETH per\n                  month in order to keep this ad space. (The funds generated\n                  from this project are going towards funding our wildcards\n                  project which in turn funds conservation. We got into a 6\n                  month Paris blockchain incubator, but we need to self fund.)\n                </p>\n                <p>\n                  6. Now you own the block congrats! If you refresh the page you\n                  will be allowed to upload a logo of your company and add your\n                  website link. Anyone who visits the webpage will now see you\n                  company displayed in that block, until someone buys that block\n                  from you, or your deposit runs out.\n                </p>\n              </Fragment>\n            </Box>\n\n            <Flex\n              px={4}\n              py={3}\n              borderTop={1}\n              borderColor={'#E8E8E8'}\n              justifyContent={'flex-end'}\n            >\n              <Button.Outline mainColor='#7A7A7A' size=\"small\" onClick={this.closeModal}>Close</Button.Outline>\n            </Flex>\n          </Card>\n        </Modal>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default HowItWorks;\n","import React, { createContext, useContext, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nexport const PreloadImageContext = createContext<any>('');\n\ninterface ProviderProps {\n  children: any,//React.Component\n}\n\nexport const PreloadImageProvider: React.FunctionComponent<ProviderProps> = ({ children }) => {\n  const [isLoaded, setIsLoaded] = useState(window.initialImageDetailsLoaded);\n\n  useEffect(\n    () => {\n      setIsLoaded(window.initialImageDetailsLoaded)\n    },\n    [window.initialImageDetailsLoaded]\n  );\n  return <PreloadImageContext.Provider value={{ isLoaded, anotherValue: 'test' }}>\n    {children}\n  </PreloadImageContext.Provider>\n};\n\nPreloadImageProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport const usePreloadImage = () => useContext(PreloadImageContext);\n\nexport const connectPreloadImage = (WrappedComponent: any) => {\n  return (props: any) => {\n    const preloadImage = usePreloadImage()\n    console.log('the preloadImage!!!!', preloadImage)\n    const newProps = { ...props, preloadImage }\n    return <WrappedComponent {...newProps} />\n  }\n}\n","import React, { Component } from \"react\";\nimport ToggleButton from 'react-toggle-button'\nimport Dapp from \"./Dapp\"\nimport About from './About'\nimport HowItWorks from './HowItworks';\nimport { TokenIdProvider } from \"./TokenIdContext\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport { UsdPriceProvider } from './USDPriceContext';\nimport { PreloadImageProvider, connectPreloadImage } from \"./PreloadedImageContext\";\n\ntype displayPurchaseState = {\n  displayPurchase: boolean,\n  ipfsIsLoaded: boolean\n};\n\ndeclare global {\n  interface Window { ipfsNode: any; }\n}\n\nwindow.ipfsNode = window.ipfsNode || {};\n\nclass Template extends Component<any, displayPurchaseState> {\n  componentWillMount() {\n    if (!this.props.drizzleLoaded) {\n      toast.info(\"Our contracts are bullet proof and our frontend is being improved to match it too\", {\n        position: \"top-right\",\n        autoClose: 6000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true\n      });\n      setTimeout(() => {\n        toast.info(\"We are on the crisp chat below please message us with any questions\");\n      }, 6400)\n    }\n    this.setState({\n      displayPurchase: false,\n      ipfsIsLoaded: true,\n    });\n\n    if (!!window.ipfsNode) {\n      import('ipfs').then(({ default: IPFS }) => {\n        window.ipfsNode = new IPFS()\n        // alert('ipfs is loaded')\n        this.setState({ ...this.state, ipfsIsLoaded: true })\n      })\n        .catch(err => {\n          // Handle failure\n        })\n    }\n  }\n\n  render() {\n    const drizzleLoaded = this.props.drizzleLoaded\n    const ifpsIsLoaded = this.state.ipfsIsLoaded\n    const imageDataLoaded = window.initialImageDetailsLoaded\n\n    return (\n      <div>\n\n        <header>\n          <ToastContainer />\n          <h1>\n            These ads are always for sale, purchase the ad space and set your own monthly payment...\n            <br /> even make a profit when someone buys the ad space from you\n            </h1>\n          {drizzleLoaded && <React.Fragment>\n            <ToggleButton\n              value={this.state.displayPurchase || false}\n              onToggle={() => {\n                this.setState({\n                  displayPurchase: !this.state.displayPurchase,\n                })\n              }} />\n            <label>\n              <span style={{ color: 'white' }}>Click toggle to buy ad</span>\n            </label>\n          </React.Fragment>}\n\n        </header>\n\n        <div className=\"Grid\">\n          {/* <UsdPriceProvider> */}\n          {([0, 1, 2]).map(i => <div className=\"Grid-item\">\n            {drizzleLoaded ?\n              <TokenIdProvider tokenId={i}>\n                <Dapp ifpsIsLoade={ifpsIsLoaded} displayPurchase={this.state.displayPurchase} tokenId={i} />\n              </TokenIdProvider>\n              :\n              imageDataLoaded ?\n                <div className='image-container'>\n                  <a href={`${window.initialImageDetails.urls[i]}?ref=alwaysforsale`}>\n                    <img src={window.rootCdnUrl + window.initialImageDetails.images[i]}></img>\n                  </a>\n                </div>\n                :\n                <p>loading image...</p>\n            }\n          </div>)}\n          {/* <div className='Grid-item'>\n              <TokenIdProvider tokenId={3}>\n                <Dapp displayPurchase={this.state.displayPurchase} tokenId={3} />\n              </TokenIdProvider>\n            </div>\n            <div className='Grid-item'>\n              <TokenIdProvider tokenId={4}>\n                <Dapp displayPurchase={this.state.displayPurchase} tokenId={4} />\n              </TokenIdProvider>\n            </div>\n            <div className='Grid-item'>\n              <TokenIdProvider tokenId={5}>\n                <Dapp displayPurchase={this.state.displayPurchase} tokenId={5} />\n              </TokenIdProvider>\n            </div>\n            <div className='Grid-item'>\n              <TokenIdProvider tokenId={6}>\n                <Dapp displayPurchase={this.state.displayPurchase} tokenId={6} />\n              </TokenIdProvider>\n            </div>\n            <div className='Grid-item'>\n              <TokenIdProvider tokenId={7}>\n                <Dapp displayPurchase={this.state.displayPurchase} tokenId={7} />\n              </TokenIdProvider>\n            </div>\n            <div className='Grid-item'>\n              <TokenIdProvider tokenId={8}>\n                <Dapp displayPurchase={this.state.displayPurchase} tokenId={8} />\n                </TokenIdProvider>\n              </div> */}\n          {/* </UsdPriceProvider> */}\n        </div>\n        <footer>\n          <div className='socials'>\n            <div\n              className='fb-share-button'\n              data-href='http://alwaysforsale.io'\n              data-layout='button'\n              data-size='small'\n            >\n              <a\n                target='_blank'\n                href='https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Falwaysforsale.io%2F&amp;src=sdkpreparse'\n                className='fb-xfbml-parse-ignore'\n              >\n                Share\n              </a>\n            </div>\n            <div>\n              <a\n                href='https://twitter.com/intent/tweet?button_hashtag=Alwaysforsale.io&ref_src=twsrc%5Etfw'\n                className='twitter-hashtag-button'\n                data-show-count='false'\n              >\n                Tweet #Alwaysforsale\n              </a>\n            </div>\n          </div>\n          <div className='more-info'>\n            <About />\n            <br />\n            <HowItWorks />\n          </div>\n        </footer>\n        <h4 style={{ color: 'white', textAlign: 'center' }}>This homepage is currently in line to make 0.8150 ETH per month based on current ad space prices</h4>\n      </div>\n    );\n  }\n}\n\nconst InnerComponent = connectPreloadImage(Template)\n\nexport default (props: any) => {\n  console.log('the props for template', props)\n\n  return <PreloadImageProvider>\n    <InnerComponent {...props} />\n  </PreloadImageProvider>;\n}\n","import React, { Component, Suspense } from \"react\";\n\n// import DrizzleProvider from \"./DrizzelProvider\";\nimport Template from \"./components/Template\";\n\nimport './app.css'\n\nconst DrizzleProvider = React.lazy(() => import('./DrizzleProvider'));\n\nclass App extends Component {\n  render() {\n    return (\n      <Suspense fallback={<Template drizzleLoaded={false} />}>\n        <DrizzleProvider>\n          <Template drizzleLoaded={true} />\n        </DrizzleProvider>\n      </Suspense>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport AppRoutes from './App';\n\nReactDOM.render(<AppRoutes />, document.getElementById('root'));\n"],"sourceRoot":""}